!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OpenPlayer=t():e.OpenPlayer=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=172)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(98)},function(e,t){var n=Function.prototype,i=n.bind,r=n.call,s=i&&i.bind(r);e.exports=i?function(e){return e&&s(r,e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){var i=n(1),r=n(70),s=n(15),a=n(71),o=n(68),f=n(67),c=r("wks"),u=i.Symbol,l=u&&u.for,d=f?u:u&&u.withoutSetter||a;e.exports=function(e){if(!s(c,e)||!o&&"string"!=typeof c[e]){var t="Symbol."+e;o&&s(u,e)?c[e]=u[e]:c[e]=f&&l?l(t):d(t)}return c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var i=n(14).default,r=n(0);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(1),r=n(44).f,s=n(21),a=n(23),o=n(50),f=n(74),c=n(78);e.exports=function(e,t){var n,u,l,d,h,p=e.target,v=e.global,m=e.stat;if(n=v?i:m?i[p]||o(p,{}):(i[p]||{}).prototype)for(u in t){if(d=t[u],l=e.noTargetGet?(h=r(n,u))&&h.value:n[u],!c(v?u:p+(m?".":"#")+u,e.forced)&&void 0!==l){if(typeof d==typeof l)continue;f(d,l)}(e.sham||l&&l.sham)&&s(d,"sham",!0),a(n,u,d,e)}}},function(e,t,n){var i=n(1),r=n(16),s=i.String,a=i.TypeError;e.exports=function(e){if(r(e))return e;throw a(s(e)+" is not an object")}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(5),r=n(25),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},function(e,t,n){var i=n(6);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},function(e,t,n){var i=n(1),r=n(6),s=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},function(e,t,n){var i=n(8);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(171);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(1),r=n(6),s=n(35),a=i.TypeError;e.exports=function(e){if(r(e))return e;throw a(s(e)+" is not a function")}},function(e,t,n){var i=n(18),r=n(22),s=n(24);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(1),r=n(18),s=n(72),a=n(13),o=n(47),f=i.TypeError,c=Object.defineProperty;t.f=r?c:function(e,t,n){if(a(e),t=o(t),a(n),s)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw f("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(1),r=n(6),s=n(15),a=n(21),o=n(50),f=n(37),c=n(38),u=n(73).CONFIGURABLE,l=c.get,d=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,f){var c,l=!!f&&!!f.unsafe,p=!!f&&!!f.enumerable,v=!!f&&!!f.noTargetGet,m=f&&void 0!==f.name?f.name:t;r(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(n,"name")||u&&n.name!==m)&&a(n,"name",m),(c=d(n)).source||(c.source=h.join("string"==typeof m?m:""))),e!==i?(l?!v&&e[t]&&(p=!0):delete e[t],p?e[t]=n:a(e,t,n)):p?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return r(this)&&l(this).source||f(this)}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(1),r=n(46),s=i.Object;e.exports=function(e){return s(r(e))}},function(e,t,n){var i=n(45),r=n(46);e.exports=function(e){return i(r(e))}},function(e,t){e.exports=!1},function(e,t,n){var i=n(109);e.exports=function(e){return i(e.length)}},function(e,t,n){var i=n(5),r=n(20),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:s?s(e,t):function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(20),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(5),r=i({}.toString),s=i("".slice);e.exports=function(e){return s(r(e),8,-1)}},function(e,t,n){var i=n(5);e.exports=i({}.isPrototypeOf)},function(e,t,n){var i=n(17);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(1).String;e.exports=function(e){try{return i(e)}catch(e){return"Object"}}},function(e,t,n){var i=n(1),r=n(16),s=i.document,a=r(s)&&r(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,n){var i=n(5),r=n(6),s=n(49),a=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},function(e,t,n){var i,r,s,a=n(105),o=n(1),f=n(5),c=n(16),u=n(21),l=n(15),d=n(49),h=n(51),p=n(52),v=o.TypeError,m=o.WeakMap;if(a||d.state){var y=d.state||(d.state=new m),g=f(y.get),b=f(y.has),w=f(y.set);i=function(e,t){if(b(y,e))throw new v("Object already initialized");return t.facade=e,w(y,e,t),t},r=function(e){return g(y,e)||{}},s=function(e){return b(y,e)}}else{var E=h("state");p[E]=!0,i=function(e,t){if(l(e,E))throw new v("Object already initialized");return t.facade=e,u(e,E,t),t},r=function(e){return l(e,E)?e[E]:{}},s=function(e){return l(e,E)}}e.exports={set:i,get:r,has:s,enforce:function(e){return s(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(1),r=n(56),s=n(6),a=n(32),o=n(7)("toStringTag"),f=i.Object,c="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=f(e),o))?n:c?a(t):"Object"==(i=a(t))&&s(t.callee)?"Arguments":i}},function(e,t,n){var i,r=n(13),s=n(114),a=n(54),o=n(52),f=n(80),c=n(36),u=n(51),l=u("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;v="undefined"!=typeof document?document.domain&&i?p(i):((t=c("iframe")).style.display="none",f.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(i);for(var n=a.length;n--;)delete v.prototype[a[n]];return v()};o[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[l]=e):n=v(),void 0===t?n:s(n,t)}},function(e,t,n){var i=n(1);e.exports=i},function(e,t,n){var i=n(1),r=n(29),s=n(9),a=n(13),o=n(35),f=n(85),c=n(28),u=n(33),l=n(87),d=n(62),h=n(84),p=i.TypeError,v=function(e,t){this.stopped=e,this.result=t},m=v.prototype;e.exports=function(e,t,n){var i,y,g,b,w,E,k,_=n&&n.that,A=!(!n||!n.AS_ENTRIES),L=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),M=r(t,_),T=function(e){return i&&h(i,"normal",e),new v(!0,e)},C=function(e){return A?(a(e),x?M(e[0],e[1],T):M(e[0],e[1])):x?M(e,T):M(e)};if(L)i=e;else{if(!(y=d(e)))throw p(o(e)+" is not iterable");if(f(y)){for(g=0,b=c(e);b>g;g++)if((w=C(e[g]))&&u(m,w))return w;return new v(!1)}i=l(e,y)}for(E=i.next;!(k=s(E,i)).done;){try{w=C(k.value)}catch(e){h(i,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new v(!1)}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var i=n(18),r=n(9),s=n(65),a=n(24),o=n(26),f=n(47),c=n(15),u=n(72),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=o(e),t=f(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return a(!r(s.f,e,t),e[t])}},function(e,t,n){var i=n(1),r=n(5),s=n(8),a=n(32),o=i.Object,f=r("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?f(e,""):o(e)}:o},function(e,t,n){var i=n(1).TypeError;e.exports=function(e){if(null==e)throw i("Can't call method on "+e);return e}},function(e,t,n){var i=n(103),r=n(66);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},function(e,t,n){var i=n(20);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},function(e,t,n){var i=n(1),r=n(50),s=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=s},function(e,t,n){var i=n(1),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(70),r=n(71),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?i:n)(t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(5),r=n(8),s=n(6),a=n(39),o=n(17),f=n(37),c=function(){},u=[],l=o("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=i(d.exec),p=!d.exec(c),v=function(e){if(!s(e))return!1;try{return l(c,u,e),!0}catch(e){return!1}};e.exports=!l||r((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?function(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!h(d,f(e))}:v},function(e,t,n){var i={};i[n(7)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(75),r=n(54);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(1),r=n(39),s=i.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},function(e,t,n){var i=n(1),r=n(15),s=n(6),a=n(25),o=n(51),f=n(121),c=o("IE_PROTO"),u=i.Object,l=u.prototype;e.exports=f?u.getPrototypeOf:function(e){var t=a(e);if(r(t,c))return t[c];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},function(e,t,n){var i=n(22).f,r=n(15),s=n(7)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},function(e,t,n){var i=n(5),r=n(13),s=n(122);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),s(i),t?e(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var i=n(39),r=n(48),s=n(30),a=n(7)("iterator");e.exports=function(e){if(null!=e)return r(e,a)||r(e,"@@iterator")||s[i(e)]}},function(e,t,n){var i=n(32),r=n(1);e.exports="process"==i(r.process)},function(e,t,n){var i=n(166),r=n(167),s=n(168),a=n(170);e.exports=function(e,t){return i(e)||r(e,t)||s(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(1),r=n(17),s=n(6),a=n(33),o=n(67),f=i.Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return s(t)&&a(t.prototype,f(e))}},function(e,t,n){var i=n(68);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(69),r=n(8);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i,r,s=n(1),a=n(34),o=s.process,f=s.Deno,c=o&&o.versions||f&&f.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},function(e,t,n){var i=n(27),r=n(49);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(5),r=0,s=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+s,36)}},function(e,t,n){var i=n(18),r=n(8),s=n(36);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(18),r=n(15),s=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=r(s,"name"),f=o&&"something"===function(){}.name,c=o&&(!i||i&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:f,CONFIGURABLE:c}},function(e,t,n){var i=n(15),r=n(106),s=n(44),a=n(22);e.exports=function(e,t){for(var n=r(t),o=a.f,f=s.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||o(e,u,f(t,u))}}},function(e,t,n){var i=n(5),r=n(15),s=n(26),a=n(108).indexOf,o=n(52),f=i([].push);e.exports=function(e,t){var n,i=s(e),c=0,u=[];for(n in i)!r(o,n)&&r(i,n)&&f(u,n);for(;t.length>c;)r(i,n=t[c++])&&(~a(u,n)||f(u,n));return u}},function(e,t,n){var i=n(53),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(8),r=n(6),s=/#|\.prototype\./,a=function(e,t){var n=f[o(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},f=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t,n){var i=n(7),r=n(40),s=n(22),a=i("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:r(null)}),e.exports=function(e){o[a][e]=!0}},function(e,t,n){var i=n(17);e.exports=i("document","documentElement")},function(e,t,n){"use strict";var i=n(119).charAt,r=n(58),s=n(38),a=n(82),o=s.set,f=s.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=f(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var i=n(12),r=n(9),s=n(27),a=n(73),o=n(6),f=n(120),c=n(59),u=n(61),l=n(60),d=n(21),h=n(23),p=n(7),v=n(30),m=n(83),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),k=function(){return this};e.exports=function(e,t,n,a,p,m,_){f(n,t,a);var A,L,x,M=function(e){if(e===p&&P)return P;if(!w&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",C=!1,O=e.prototype,S=O[E]||O["@@iterator"]||p&&O[p],P=!w&&S||M(p),j="Array"==t&&O.entries||S;if(j&&(A=c(j.call(new e)))!==Object.prototype&&A.next&&(s||c(A)===b||(u?u(A,b):o(A[E])||h(A,E,k)),l(A,T,!0,!0),s&&(v[T]=k)),y&&"values"==p&&S&&"values"!==S.name&&(!s&&g?d(O,"name","values"):(C=!0,P=function(){return r(S,this)})),p)if(L={values:M("values"),keys:m?P:M("keys"),entries:M("entries")},_)for(x in L)(w||C||!(x in O))&&h(O,x,L[x]);else i({target:t,proto:!0,forced:w||C},L);return s&&!_||O[E]===P||h(O,E,P,{name:p}),v[t]=P,L}},function(e,t,n){"use strict";var i,r,s,a=n(8),o=n(6),f=n(40),c=n(59),u=n(23),l=n(7),d=n(27),h=l("iterator"),p=!1;[].keys&&("next"in(s=[].keys())?(r=c(c(s)))!==Object.prototype&&(i=r):p=!0),null==i||a((function(){var e={};return i[h].call(e)!==e}))?i={}:d&&(i=f(i)),o(i[h])||u(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var i=n(9),r=n(13),s=n(48);e.exports=function(e,t,n){var a,o;r(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw n;return n}a=i(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw n;if(o)throw a;return r(a),n}},function(e,t,n){var i=n(7),r=n(30),s=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[s]===e)}},function(e,t,n){"use strict";var i=n(47),r=n(22),s=n(24);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,s(0,n)):e[a]=n}},function(e,t,n){var i=n(1),r=n(9),s=n(20),a=n(13),o=n(35),f=n(62),c=i.TypeError;e.exports=function(e,t){var n=arguments.length<2?f(e):t;if(s(n))return a(r(n,e));throw c(o(e)+" is not iterable")}},function(e,t,n){var i=n(7)("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(12),r=n(1),s=n(33),a=n(59),o=n(61),f=n(74),c=n(40),u=n(21),l=n(24),d=n(138),h=n(140),p=n(42),v=n(141),m=n(7),y=n(142),g=m("toStringTag"),b=r.Error,w=[].push,E=function(e,t){var n,i=arguments.length>2?arguments[2]:void 0,r=s(k,this);o?n=o(new b(void 0),r?a(this):k):(n=r?this:c(k),u(n,g,"Error")),u(n,"message",v(t,"")),y&&u(n,"stack",d(n.stack,1)),h(n,i);var f=[];return p(e,w,{that:f}),u(n,"errors",f),n};o?o(E,b):f(E,b);var k=E.prototype=c(b.prototype,{constructor:l(1,E),message:l(1,""),name:l(1,"AggregateError")});i({global:!0},{AggregateError:E})},function(e,t,n){"use strict";var i=n(26),r=n(79),s=n(30),a=n(38),o=n(82),f=a.set,c=a.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){f(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(1);e.exports=i.Promise},function(e,t,n){var i=n(13),r=n(149),s=n(7)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[s])?t:r(n)}},function(e,t,n){var i,r,s,a,o=n(1),f=n(150),c=n(29),u=n(6),l=n(15),d=n(8),h=n(80),p=n(151),v=n(36),m=n(94),y=n(63),g=o.setImmediate,b=o.clearImmediate,w=o.process,E=o.Dispatch,k=o.Function,_=o.MessageChannel,A=o.String,L=0,x={};try{i=o.location}catch(e){}var M=function(e){if(l(x,e)){var t=x[e];delete x[e],t()}},T=function(e){return function(){M(e)}},C=function(e){M(e.data)},O=function(e){o.postMessage(A(e),i.protocol+"//"+i.host)};g&&b||(g=function(e){var t=p(arguments,1);return x[++L]=function(){f(u(e)?e:k(e),void 0,t)},r(L),L},b=function(e){delete x[e]},y?r=function(e){w.nextTick(T(e))}:E&&E.now?r=function(e){E.now(T(e))}:_&&!m?(a=(s=new _).port2,s.port1.onmessage=C,r=c(a.postMessage,a)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&i&&"file:"!==i.protocol&&!d(O)?(r=O,o.addEventListener("message",C,!1)):r="onreadystatechange"in v("script")?function(e){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),M(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:g,clear:b}},function(e,t,n){var i=n(34);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},function(e,t,n){var i=n(13),r=n(16),s=n(31);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(12),r=n(9),s=n(20),a=n(31),o=n(43),f=n(42);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,u=o((function(){var n=s(t.resolve),a=[],o=0,c=1;f(e,(function(e){var s=o++,f=!1;c++,r(n,t,e).then((function(e){f||(f=!0,a[s]={status:"fulfilled",value:e},--c||i(a))}),(function(e){f||(f=!0,a[s]={status:"rejected",reason:e},--c||i(a))}))})),--c||i(a)}));return u.error&&c(u.value),n.promise}})},function(e,t,n){"use strict";var i=n(12),r=n(20),s=n(17),a=n(9),o=n(31),f=n(43),c=n(42);i({target:"Promise",stat:!0},{any:function(e){var t=this,n=s("AggregateError"),i=o.f(t),u=i.resolve,l=i.reject,d=f((function(){var i=r(t.resolve),s=[],o=0,f=1,d=!1;c(e,(function(e){var r=o++,c=!1;f++,a(i,t,e).then((function(e){c||d||(d=!0,u(e))}),(function(e){c||d||(c=!0,s[r]=e,--f||l(new n(s,"No one promise resolved")))}))})),--f||l(new n(s,"No one promise resolved"))}));return d.error&&l(d.value),i.promise}})},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof l?t:l,s=Object.create(r.prototype),a=new _(i||[]);return s._invoke=function(e,t,n){var i="suspendedStart";return function(r,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw s;return L()}for(n.method=r,n.arg=s;;){var a=n.delegate;if(a){var o=w(a,n);if(o){if(o===u)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var f=c(e,t,n);if("normal"===f.type){if(i=n.done?"completed":"suspendedYield",f.arg===u)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(i="completed",n.method="throw",n.arg=f.arg)}}}(e,n,a),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var u={};function l(){}function d(){}function h(){}var p={};o(p,r,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(A([])));m&&m!==t&&n.call(m,r)&&(p=m);var y=h.prototype=l.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var i;this._invoke=function(r,s){function a(){return new t((function(i,a){!function i(r,s,a,o){var f=c(e[r],e,s);if("throw"!==f.type){var u=f.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,o)}),(function(e){i("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,o)}))}o(f.arg)}(r,s,i,a)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,o(y,"constructor",h),o(h,"constructor",d),d.displayName=o(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),o(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,s){void 0===s&&(s=Promise);var a=new b(f(t,n,i,r),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),o(y,a,"Generator"),o(y,r,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var o=n.call(s,"catchLoc"),f=n.call(s,"finallyLoc");if(o&&f){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){var i=n(100);e.exports=i},function(e,t,n){var i=n(101);e.exports=i},function(e,t,n){n(102);var i=n(115);e.exports=i("Array","find")},function(e,t,n){"use strict";var i=n(12),r=n(110).find,s=n(79),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(e,t,n){var i=n(1),r=n(9),s=n(16),a=n(66),o=n(48),f=n(104),c=n(7),u=i.TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!s(e)||a(e))return e;var n,i=o(e,l);if(i){if(void 0===t&&(t="default"),n=r(i,e,t),!s(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),f(e,t)}},function(e,t,n){var i=n(1),r=n(9),s=n(6),a=n(16),o=i.TypeError;e.exports=function(e,t){var n,i;if("string"===t&&s(n=e.toString)&&!a(i=r(n,e)))return i;if(s(n=e.valueOf)&&!a(i=r(n,e)))return i;if("string"!==t&&s(n=e.toString)&&!a(i=r(n,e)))return i;throw o("Can't convert object to primitive value")}},function(e,t,n){var i=n(1),r=n(6),s=n(37),a=i.WeakMap;e.exports=r(a)&&/native code/.test(s(a))},function(e,t,n){var i=n(17),r=n(5),s=n(107),a=n(77),o=n(13),f=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=a.f;return n?f(t,n(e)):t}},function(e,t,n){var i=n(75),r=n(54).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(26),r=n(76),s=n(28),a=function(e){return function(t,n,a){var o,f=i(t),c=s(f),u=r(a,c);if(e&&n!=n){for(;c>u;)if((o=f[u++])!=o)return!0}else for(;c>u;u++)if((e||u in f)&&f[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(53),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(29),r=n(5),s=n(45),a=n(25),o=n(28),f=n(111),c=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,l=6==e,d=7==e,h=5==e||l;return function(p,v,m,y){for(var g,b,w=a(p),E=s(w),k=i(v,m),_=o(E),A=0,L=y||f,x=t?L(p,_):n||d?L(p,0):void 0;_>A;A++)if((h||A in E)&&(b=k(g=E[A],A,w),e))if(t)x[A]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:c(x,g)}else switch(e){case 4:return!1;case 7:c(x,g)}return l?-1:r||u?u:x}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,n){var i=n(112);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){var i=n(1),r=n(113),s=n(55),a=n(16),o=n(7)("species"),f=i.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(s(t)&&(t===f||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?f:t}},function(e,t,n){var i=n(32);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(18),r=n(22),s=n(13),a=n(26),o=n(57);e.exports=i?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),f=o(t),c=f.length,u=0;c>u;)r.f(e,n=f[u++],i[n]);return e}},function(e,t,n){var i=n(1),r=n(5);e.exports=function(e,t){return r(i[e].prototype[t])}},function(e,t,n){var i=n(117);e.exports=i},function(e,t,n){var i=n(118);e.exports=i},function(e,t,n){n(81),n(123);var i=n(41);e.exports=i.Array.from},function(e,t,n){var i=n(5),r=n(53),s=n(58),a=n(46),o=i("".charAt),f=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,l=s(a(t)),d=r(n),h=l.length;return d<0||d>=h?e?"":void 0:(i=f(l,d))<55296||i>56319||d+1===h||(u=f(l,d+1))<56320||u>57343?e?o(l,d):i:e?c(l,d,d+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,n){"use strict";var i=n(83).IteratorPrototype,r=n(40),s=n(24),a=n(60),o=n(30),f=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:s(+!c,n)}),a(e,u,!1,!0),o[u]=f,e}},function(e,t,n){var i=n(8);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(1),r=n(6),s=i.String,a=i.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+s(e)+" as a prototype")}},function(e,t,n){var i=n(12),r=n(124);i({target:"Array",stat:!0,forced:!n(88)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var i=n(1),r=n(29),s=n(9),a=n(25),o=n(125),f=n(85),c=n(55),u=n(28),l=n(86),d=n(87),h=n(62),p=i.Array;e.exports=function(e){var t=a(e),n=c(this),i=arguments.length,v=i>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,i>2?arguments[2]:void 0));var y,g,b,w,E,k,_=h(t),A=0;if(!_||this==p&&f(_))for(y=u(t),g=n?new this(y):p(y);y>A;A++)k=m?v(t[A],A):t[A],l(g,A,k);else for(E=(w=d(t,_)).next,g=n?new this:[];!(b=s(E,w)).done;A++)k=m?o(w,v,[b.value,A],!0):b.value,l(g,A,k);return g.length=A,g}},function(e,t,n){var i=n(13),r=n(84);e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},function(e,t,n){var i=n(127);e.exports=i},function(e,t,n){var i=n(128);e.exports=i},function(e,t,n){n(129);var i=n(41);e.exports=i.Object.assign},function(e,t,n){var i=n(12),r=n(130);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(18),r=n(5),s=n(9),a=n(8),o=n(57),f=n(77),c=n(65),u=n(25),l=n(45),d=Object.assign,h=Object.defineProperty,p=r([].concat);e.exports=!d||a((function(){if(i&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||"abcdefghijklmnopqrst"!=o(d({},t)).join("")}))?function(e,t){for(var n=u(e),r=arguments.length,a=1,d=f.f,h=c.f;r>a;)for(var v,m=l(arguments[a++]),y=d?p(o(m),d(m)):o(m),g=y.length,b=0;g>b;)v=y[b++],i&&!s(h,m,v)||(n[v]=m[v]);return n}:d},function(e,t,n){var i=n(132);e.exports=i},function(e,t,n){var i=n(133);e.exports=i},function(e,t,n){n(134);var i=n(41);e.exports=i.Object.keys},function(e,t,n){var i=n(12),r=n(25),s=n(57);i({target:"Object",stat:!0,forced:n(8)((function(){s(1)}))},{keys:function(e){return s(r(e))}})},function(e,t,n){var i=n(136);n(161),n(162),n(163),n(164),e.exports=i},function(e,t,n){var i=n(137);n(158),e.exports=i},function(e,t,n){n(89),n(90),n(143),n(145),n(96),n(97),n(157),n(81);var i=n(41);e.exports=i.Promise},function(e,t,n){var i=n(5),r=n(139),s=i("".replace),a=i("".split),o=i([].join),f=String(Error("zxcasd").stack),c=/\n\s*at [^:]*:[^\n]*/,u=c.test(f),l=/@[^\n]*\n/.test(f)&&!/zxcasd/.test(f);e.exports=function(e,t){if("string"!=typeof e)return e;if(u)for(;t--;)e=s(e,c,"");else if(l)return o(r(a(e,"\n"),t),"\n");return e}},function(e,t,n){var i=n(1),r=n(76),s=n(28),a=n(86),o=i.Array,f=Math.max;e.exports=function(e,t,n){for(var i=s(e),c=r(t,i),u=r(void 0===n?i:n,i),l=o(f(u-c,0)),d=0;c<u;c++,d++)a(l,d,e[c]);return l.length=d,l}},function(e,t,n){var i=n(16),r=n(21);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},function(e,t,n){var i=n(58);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},function(e,t,n){var i=n(8),r=n(24);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},function(e,t,n){var i=n(56),r=n(23),s=n(144);i||r(Object.prototype,"toString",s,{unsafe:!0})},function(e,t,n){"use strict";var i=n(56),r=n(39);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";var i,r,s,a,o=n(12),f=n(27),c=n(1),u=n(17),l=n(9),d=n(91),h=n(23),p=n(146),v=n(61),m=n(60),y=n(147),g=n(20),b=n(6),w=n(16),E=n(148),k=n(37),_=n(42),A=n(88),L=n(92),x=n(93).set,M=n(152),T=n(95),C=n(155),O=n(31),S=n(43),P=n(38),j=n(78),R=n(7),W=n(156),I=n(63),N=n(69),D=R("species"),F="Promise",B=P.getterFor(F),q=P.set,H=P.getterFor(F),z=d&&d.prototype,V=d,U=z,G=c.TypeError,K=c.document,X=c.process,$=O.f,Q=$,Y=!!(K&&K.createEvent&&c.dispatchEvent),J=b(c.PromiseRejectionEvent),Z=!1,ee=j(F,(function(){var e=k(V),t=e!==String(V);if(!t&&66===N)return!0;if(f&&!U.finally)return!0;if(N>=51&&/native code/.test(e))return!1;var n=new V((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[D]=i,!(Z=n.then((function(){}))instanceof i)||!t&&W&&!J})),te=ee||!A((function(e){V.all(e).catch((function(){}))})),ne=function(e){var t;return!(!w(e)||!b(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;M((function(){for(var i=e.value,r=1==e.state,s=0;n.length>s;){var a,o,f,c=n[s++],u=r?c.ok:c.fail,d=c.resolve,h=c.reject,p=c.domain;try{u?(r||(2===e.rejection&&oe(e),e.rejection=1),!0===u?a=i:(p&&p.enter(),a=u(i),p&&(p.exit(),f=!0)),a===c.promise?h(G("Promise-chain cycle")):(o=ne(a))?l(o,a,d,h):d(a)):h(i)}catch(e){p&&!f&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},re=function(e,t,n){var i,r;Y?((i=K.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!J&&(r=c["on"+e])?r(i):"unhandledrejection"===e&&C("Unhandled promise rejection",n)},se=function(e){l(x,c,(function(){var t,n=e.facade,i=e.value;if(ae(e)&&(t=S((function(){I?X.emit("unhandledRejection",i,n):re("unhandledrejection",n,i)})),e.rejection=I||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){l(x,c,(function(){var t=e.facade;I?X.emit("rejectionHandled",t):re("rejectionhandled",t,e.value)}))},fe=function(e,t,n){return function(i){e(t,i,n)}},ce=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ie(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw G("Promise can't be resolved itself");var i=ne(t);i?M((function(){var n={done:!1};try{l(i,t,fe(ue,n,e),fe(ce,n,e))}catch(t){ce(n,t,e)}})):(e.value=t,e.state=1,ie(e,!1))}catch(t){ce({done:!1},t,e)}}};if(ee&&(U=(V=function(e){E(this,U),g(e),l(i,this);var t=B(this);try{e(fe(ue,t),fe(ce,t))}catch(e){ce(t,e)}}).prototype,(i=function(e){q(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U,{then:function(e,t){var n=H(this),i=n.reactions,r=$(L(this,V));return r.ok=!b(e)||e,r.fail=b(t)&&t,r.domain=I?X.domain:void 0,n.parent=!0,i[i.length]=r,0!=n.state&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=B(e);this.promise=e,this.resolve=fe(ue,t),this.reject=fe(ce,t)},O.f=$=function(e){return e===V||e===s?new r(e):Q(e)},!f&&b(d)&&z!==Object.prototype)){a=z.then,Z||(h(z,"then",(function(e,t){var n=this;return new V((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0}),h(z,"catch",U.catch,{unsafe:!0}));try{delete z.constructor}catch(e){}v&&v(z,U)}o({global:!0,wrap:!0,forced:ee},{Promise:V}),m(V,F,!1,!0),y(F),s=u(F),o({target:F,stat:!0,forced:ee},{reject:function(e){var t=$(this);return l(t.reject,void 0,e),t.promise}}),o({target:F,stat:!0,forced:f||ee},{resolve:function(e){return T(f&&this===s?V:this,e)}}),o({target:F,stat:!0,forced:te},{all:function(e){var t=this,n=$(t),i=n.resolve,r=n.reject,s=S((function(){var n=g(t.resolve),s=[],a=0,o=1;_(e,(function(e){var f=a++,c=!1;o++,l(n,t,e).then((function(e){c||(c=!0,s[f]=e,--o||i(s))}),r)})),--o||i(s)}));return s.error&&r(s.value),n.promise},race:function(e){var t=this,n=$(t),i=n.reject,r=S((function(){var r=g(t.resolve);_(e,(function(e){l(r,t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(23);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(17),r=n(22),s=n(7),a=n(18),o=s("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(1),r=n(33),s=i.TypeError;e.exports=function(e,t){if(r(t,e))return e;throw s("Incorrect invocation")}},function(e,t,n){var i=n(1),r=n(55),s=n(35),a=i.TypeError;e.exports=function(e){if(r(e))return e;throw a(s(e)+" is not a constructor")}},function(e,t){var n=Function.prototype,i=n.apply,r=n.bind,s=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(i):function(){return s.apply(i,arguments)})},function(e,t,n){var i=n(5);e.exports=i([].slice)},function(e,t,n){var i,r,s,a,o,f,c,u,l=n(1),d=n(29),h=n(44).f,p=n(93).set,v=n(94),m=n(153),y=n(154),g=n(63),b=l.MutationObserver||l.WebKitMutationObserver,w=l.document,E=l.process,k=l.Promise,_=h(l,"queueMicrotask"),A=_&&_.value;A||(i=function(){var e,t;for(g&&(e=E.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():s=void 0,e}}s=void 0,e&&e.enter()},v||g||y||!b||!w?!m&&k&&k.resolve?((c=k.resolve(void 0)).constructor=k,u=d(c.then,c),a=function(){u(i)}):g?a=function(){E.nextTick(i)}:(p=d(p,l),a=function(){p(i)}):(o=!0,f=w.createTextNode(""),new b(i).observe(f,{characterData:!0}),a=function(){f.data=o=!o})),e.exports=A||function(e){var t={fn:e,next:void 0};s&&(s.next=t),r||(r=t,a()),s=t}},function(e,t,n){var i=n(34),r=n(1);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},function(e,t,n){var i=n(34);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(1);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports="object"==typeof window},function(e,t,n){"use strict";var i=n(12),r=n(27),s=n(91),a=n(8),o=n(17),f=n(6),c=n(92),u=n(95),l=n(23);if(i({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,o("Promise")),n=f(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!r&&f(s)){var d=o("Promise").prototype.finally;s.prototype.finally!==d&&l(s.prototype,"finally",d,{unsafe:!0})}},function(e,t,n){var i=n(1),r=n(159),s=n(160),a=n(90),o=n(21),f=n(7),c=f("iterator"),u=f("toStringTag"),l=a.values,d=function(e,t){if(e){if(e[c]!==l)try{o(e,c,l)}catch(t){e[c]=l}if(e[u]||o(e,u,t),r[t])for(var n in a)if(e[n]!==a[n])try{o(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var h in r)d(i[h]&&i[h].prototype,h);d(s,"DOMTokenList")},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(36)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},function(e,t,n){n(89)},function(e,t,n){n(96)},function(e,t,n){"use strict";var i=n(12),r=n(31),s=n(43);i({target:"Promise",stat:!0},{try:function(e){var t=r.f(this),n=s(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){n(97)},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(169);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,i)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var i=n(14),r=n.n(i),s=n(2),a=n.n(s),o=n(3),f=n.n(o),c=n(4),u=n.n(c),l=(n(99),n(116),n(126),n(131),n(135),n(165),n(64)),d=n.n(l),h="undefined"!=typeof window?window.navigator:null,p=h?h.userAgent.toLowerCase():null,v=(!!p&&(/ipad/i.test(p)&&window.MSStream),!!p&&(/iphone/i.test(p)&&!window.MSStream)),m=(!!p&&(/ipod/i.test(p)&&window.MSStream),!!p&&(/ipad|iphone|ipod/i.test(p)&&!window.MSStream)),y=!!p&&/android/i.test(p),g=!!p&&/(trident|microsoft)/i.test(h.appName),b=(!!h&&("msLaunchUri"in h&&document),!!p&&/chrome/i.test(p)),w=(!!p&&/firefox/i.test(p),!!p&&(/safari/i.test(p)&&!b)),E=(!!p&&/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(p),"undefined"!=typeof window&&"MediaSource"in window),k=!g&&{passive:!1};function _(e,t){var n={};return t&&t.detail&&(n={detail:t.detail}),new CustomEvent(e,n)}function A(e){return"video"===e.tagName.toLowerCase()}function L(e){return"audio"===e.tagName.toLowerCase()}function x(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}function M(e){return new Promise((function(t,n){var i=document.createElement("script");i.src=e,i.async=!0,i.onload=function(){x(i),t()},i.onerror=function(){x(i),n({src:e})},document.head&&document.head.appendChild(i)}))}function T(e,t){return!!e.classList.contains(t)}function C(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset||document.documentElement.scrollLeft),top:t.top+(window.pageYOffset||document.documentElement.scrollTop)}}function O(e,t){var n=Math.floor(e%1*(t||0)),i=Math.floor(e),r=Math.floor(i/60),s=Math.floor(r/60),a=function(e){return e<10?e<=0?"00":"0".concat(e):e};return r%=60,i%=60,"".concat(s>0?"".concat(a(s),":"):"").concat(a(r),":").concat(a(i)).concat(n?":".concat(a(n)):"")}function S(e){var t=e.replace(/;/g,":").split(":"),n=0;return 3===t.length?(n+=60*parseFloat(t[0])*60,n+=60*parseFloat(t[1]),n+=parseFloat(t[2])):(n+=60*parseFloat(t[0]),n+=parseFloat(t[1])),n}var P,j,R,W,I,N,D,F,B,q,H,z,V,U,G,K=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},X=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},$=function(){function e(t,n,i){a()(this,e),P.set(this,void 0),j.set(this,void 0),R.set(this,void 0),W.set(this,void 0),I.set(this,{button:{},global:{},media:{}}),N.set(this,{}),D.set(this,void 0),F.set(this,{}),B.set(this,void 0),q.set(this,void 0),H.set(this,"off"),z.set(this,void 0),V.set(this,void 0),U.set(this,void 0),G.set(this,void 0),K(this,P,t,"f"),K(this,V,t.getOptions().labels,"f"),K(this,z,t.getOptions().detachMenus,"f"),K(this,U,n,"f"),K(this,G,i,"f");for(var r=X(this,P,"f").getElement().textTracks,s=[],o=0,f=r.length;o<f;o++){var c=['track[kind="subtitles"][srclang="'.concat(r[o].language,'"][label="').concat(r[o].label,'"]'),'track[kind="captions"][srclang="'.concat(r[o].language,'"][label="').concat(r[o].label,'"]')];X(this,P,"f").getElement().querySelector(c.join(", "))&&s.push(r[o])}if(!s.length)for(var u=0,l=r.length;u<l;u++)s.push(r[u]);return K(this,D,s,"f"),K(this,B,!!X(this,D,"f").length,"f"),this}return f()(e,[{key:"create",value:function(){var e=this;if(X(this,B,"f")){K(this,j,document.createElement("button"),"f"),X(this,j,"f").className="op-controls__captions op-control__".concat(X(this,U,"f")),X(this,j,"f").tabIndex=0,X(this,j,"f").title=X(this,V,"f").toggleCaptions,X(this,j,"f").setAttribute("aria-controls",X(this,P,"f").id),X(this,j,"f").setAttribute("aria-pressed","false"),X(this,j,"f").setAttribute("aria-label",X(this,V,"f").toggleCaptions),X(this,j,"f").setAttribute("data-active-captions","off"),X(this,j,"f").innerHTML='<span class="op-sr">'.concat(X(this,V,"f").toggleCaptions,"</span>"),X(this,z,"f")&&(X(this,j,"f").classList.add("op-control--no-hover"),K(this,W,document.createElement("div"),"f"),X(this,W,"f").className="op-settings op-captions__menu",X(this,W,"f").setAttribute("aria-hidden","true"),X(this,W,"f").innerHTML='<div class="op-settings__menu" role="menu" id="menu-item-captions">\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio" aria-checked="'.concat("off"===X(this,H,"f")?"true":"false",'">\n                    <div class="op-settings__submenu-label op-subtitles__option" data-value="captions-off">').concat(X(this,V,"f").off,"</div>\n                </div>\n            </div>"));for(var t=function(t,n,i){var r,s,a=n[t];if("subtitles"===a.kind||"captions"===a.kind){a.default&&(K(e,H,a.srclang,"f"),X(e,j,"f").setAttribute("data-active-captions",a.srclang));var o=(r=a.src,(s=document.createElement("a")).href=r,s.href),f=X(e,D,"f")[t];f&&f.language===a.srclang&&(f.cues&&f.cues.length>0?(X(e,N,"f")[a.srclang]=e._getNativeCues(X(e,D,"f")[t]),e._prepareTrack(t,a.srclang,o,a.default||!1)):function(e,t,n,i){var r,s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");switch(t){case"text":r="text/plain";break;case"json":r="application/json, text/javascript";break;case"html":r="text/html";break;case"xml":r="application/xml, text/xml";break;default:r="application/x-www-form-urlencoded; charset=UTF-8"}var a=!1,o="application/x-www-form-urlencoded"!==r?"".concat(r,", */*; q=0.01"):"*/".concat("*");s&&(s.open("GET",e,!0),s.setRequestHeader("Accept",o),s.onreadystatechange=function(){if(!a&&4===s.readyState)if(200===s.status){var e;switch(a=!0,t){case"json":e=JSON.parse(s.responseText);break;case"xml":e=s.responseXML;break;default:e=s.responseText}n(e)}else"function"==typeof i&&i(s.status)},s.send())}(o,"text",(function(n){X(e,N,"f")[a.srclang]=e._getCuesFromText(n),e._prepareTrack(t,a.srclang,o,a.default||!1);var i='.op-subtitles__option[data-value="captions-'.concat(X(e,D,"f")[t].language,'"]');if(X(e,W,"f")&&!X(e,W,"f").querySelector(i)){var r=document.createElement("div");r.className="op-settings__submenu-item",r.tabIndex=0,r.setAttribute("role","menuitemradio"),r.setAttribute("aria-checked",X(e,H,"f")===X(e,D,"f")[t].language?"true":"false"),r.innerHTML='<div class="op-settings__submenu-label op-subtitles__option"\n                                        data-value="captions-'.concat(X(e,D,"f")[t].language,'">\n                                        ').concat(X(e,V,"f").lang[X(e,D,"f")[t].language]||X(e,D,"f")[t].label,"\n                                    </div>"),X(e,W,"f").appendChild(r)}})))}},n=0,i=X(this,P,"f").getElement().querySelectorAll("track"),r=i.length;n<r;n++)t(n,i);K(this,R,document.createElement("div"),"f"),X(this,R,"f").className="op-captions",X(this,R,"f").innerHTML="<span></span>";var s=X(this,R,"f").querySelector("span");if(X(this,I,"f").media.timeupdate=function(){if(X(e,P,"f").isMedia())if(X(e,q,"f")){var t=X(e,N,"f")[X(e,q,"f").language];if(s&&void 0!==t){var n=e._search(t,X(e,P,"f").getMedia().currentTime);s.innerHTML="",n>-1&&T(X(e,j,"f"),"op-controls__captions--on")?(X(e,R,"f").classList.add("op-captions--on"),s.innerHTML=e._sanitize(t[n].text)):e._hide()}}else e._hide();else e._hide()},X(this,I,"f").button.click=function(t){var n=t.target;if(X(e,z,"f")){for(var i=X(e,P,"f").getContainer().querySelectorAll(".op-settings"),r=0,s=i.length;r<s;++r)i[r]!==X(e,W,"f")&&i[r].setAttribute("aria-hidden","true");"true"===X(e,W,"f").getAttribute("aria-hidden")?X(e,W,"f").setAttribute("aria-hidden","false"):X(e,W,"f").setAttribute("aria-hidden","true")}else n.setAttribute("aria-pressed","true"),T(n,"op-controls__captions--on")?(e._hide(),n.classList.remove("op-controls__captions--on"),n.setAttribute("data-active-captions","off")):(X(e,q,"f")||K(e,q,X(e,D,"f")[0],"f"),e._show(),n.classList.add("op-controls__captions--on"),n.setAttribute("data-active-captions",X(e,q,"f").language))},X(this,I,"f").button.mouseover=function(){if(!m&&!y&&X(e,z,"f")){for(var t=X(e,P,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==X(e,W,"f")&&t[n].setAttribute("aria-hidden","true");"true"===X(e,W,"f").getAttribute("aria-hidden")&&X(e,W,"f").setAttribute("aria-hidden","false")}},X(this,I,"f").button.mouseout=function(){if(!m&&!y&&X(e,z,"f")){for(var t=X(e,P,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===X(e,W,"f").getAttribute("aria-hidden")&&X(e,W,"f").setAttribute("aria-hidden","true")}},X(this,B,"f")){var a=X(this,P,"f").getContainer();if(a.insertBefore(X(this,R,"f"),a.firstChild),X(this,z,"f")){var o=document.createElement("div");o.className="op-controls__container op-control__".concat(X(this,U,"f")),o.appendChild(X(this,j,"f")),o.appendChild(X(this,W,"f")),X(this,P,"f").getControls().getLayer(X(this,G,"f")).appendChild(o)}else X(this,P,"f").getControls().getLayer(X(this,G,"f")).appendChild(X(this,j,"f"));X(this,j,"f").addEventListener("click",X(this,I,"f").button.click,k)}X(this,D,"f").length<=1&&!X(this,z,"f")||!X(this,D,"f").length&&X(this,z,"f")||(X(this,I,"f").global.click=function(t){var n=t.target;if(n.closest("#".concat(X(e,P,"f").id))&&T(n,"op-subtitles__option")){var i=n.getAttribute("data-value"),r=i?i.replace("captions-",""):"",s=Array.from(X(e,D,"f")).filter((function(e){return e.language===r}));if(K(e,q,s?s.pop():void 0,"f"),X(e,z,"f")){if(T(X(e,j,"f"),"op-controls__captions--on")?(e._hide(),X(e,j,"f").classList.remove("op-controls__captions--on"),X(e,j,"f").setAttribute("data-active-captions","off")):(e._show(),X(e,j,"f").classList.add("op-controls__captions--on"),X(e,j,"f").setAttribute("data-active-captions",r)),n.parentElement&&n.parentElement.parentElement)for(var a=n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"),o=0,f=a.length;o<f;++o)a[o].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),X(e,W,"f").setAttribute("aria-hidden","false")}else e._show(),X(e,j,"f").setAttribute("data-active-captions",r);var c=_("captionschanged");X(e,P,"f").getElement().dispatchEvent(c)}},X(this,z,"f")&&(X(this,j,"f").addEventListener("mouseover",X(this,I,"f").button.mouseover,k),X(this,W,"f").addEventListener("mouseover",X(this,I,"f").button.mouseover,k),X(this,W,"f").addEventListener("mouseout",X(this,I,"f").button.mouseout,k),X(this,P,"f").getElement().addEventListener("controlshidden",X(this,I,"f").button.mouseout,k)),void 0!==X(this,I,"f").global.click&&document.addEventListener("click",X(this,I,"f").global.click,k))}}},{key:"destroy",value:function(){void 0!==X(this,I,"f").global.click&&document.removeEventListener("click",X(this,I,"f").global.click),X(this,B,"f")&&(X(this,j,"f").removeEventListener("click",X(this,I,"f").button.click),X(this,z,"f")&&(X(this,j,"f").removeEventListener("mouseover",X(this,I,"f").button.mouseover),X(this,W,"f").removeEventListener("mouseover",X(this,I,"f").button.mouseover),X(this,W,"f").removeEventListener("mouseout",X(this,I,"f").button.mouseout),X(this,P,"f").getElement().removeEventListener("controlshidden",X(this,I,"f").button.mouseout),x(X(this,W,"f"))),X(this,P,"f").getElement().removeEventListener("timeupdate",X(this,I,"f").media.timeupdate),x(X(this,j,"f")),x(X(this,R,"f")))}},{key:"addSettings",value:function(){if(X(this,z,"f")||X(this,D,"f").length<=1)return{};var e=this._formatMenuItems();return e.length>2?{className:"op-subtitles__option",default:X(this,H,"f")||"off",key:"captions",name:X(this,V,"f").captions,subitems:e}:{}}},{key:"_getCuesFromText",value:function(e){var t=e.split(/\r?\n/),n=[],i=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi;var s,a=new RegExp("^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\x3e ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*?)$");function o(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"===r()(e)&&null!==e}for(var f=0,c=t.length;f<c;f++){var u=a.exec(t[f]);if(u&&f<t.length){f-1>=0&&""!==t[f-1]&&(s=t[f-1]);var l=t[++f];for(f++;""!==t[f]&&f<t.length;)l="".concat(l,"\n").concat(t[f]),f++;l=l.trim().replace(i,"<a href='$1' target='_blank'>$1</a>");var d=S(u[1]);n.push({endTime:S(u[3]),identifier:s||"",settings:o(u[5])?JSON.parse(u[5]):{},startTime:0===d?.2:d,text:l})}s=""}return n}},{key:"_getNativeCues",value:function(e){var t=[],n=e.cues;return Object.keys(n).forEach((function(e){var i=parseInt(e,10),r=n[i];t.push({endTime:r.endTime,identifier:r.id,settings:{},startTime:r.startTime,text:r.text})})),t}},{key:"_show",value:function(){if(X(this,R,"f")&&X(this,q,"f")&&void 0!==X(this,q,"f").cues){var e=X(this,R,"f").querySelector("span");e&&(e.innerHTML=""),X(this,P,"f").getElement().addEventListener("timeupdate",X(this,I,"f").media.timeupdate,k)}}},{key:"_hide",value:function(){X(this,R,"f").classList.remove("op-captions--on"),X(this,q,"f")||(X(this,j,"f").classList.remove("op-controls__captions--on"),X(this,j,"f").setAttribute("data-active-captions","off"))}},{key:"_search",value:function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r].startTime,a=e[r].endTime;if(t>=s&&t<a)return r;s<t?n=r+1:s>t&&(i=r-1)}return-1}},{key:"_sanitize",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),i=n.length;i--;)x(n[i]);for(var r=t.getElementsByTagName("*"),s=0,a=r.length;s<a;s++)for(var o=r[s].attributes,f=Array.prototype.slice.call(o),c=0,u=f.length;c<u;c++)/^(on|javascript:)/.test(f[c].name)?x(r[s]):"style"===f[c].name&&r[s].removeAttribute(f[c].name);return t.innerHTML}},{key:"_prepareTrack",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];X(this,F,"f")[t]=n,X(this,D,"f")[e].mode="disabled",r&&(K(this,H,t,"f"),X(this,j,"f").classList.add("op-controls__captions--on"),X(this,j,"f").setAttribute("data-active-captions",t),K(this,q,Array.from(X(this,D,"f")).filter((function(e){return e.language===X(i,H,"f")})).pop(),"f"),this._show(),X(this,P,"f").getContainer().classList.contains("op-captions--detected")||X(this,P,"f").getContainer().classList.add("op-captions--detected"))}},{key:"_formatMenuItems",value:function(){for(var e=this,t=[{key:"off",label:X(this,V,"f").off}],n=function(n,i){var r=X(e,D,"f")[n];(t=t.filter((function(e){return e.key!==r.language}))).push({key:r.language,label:X(e,V,"f").lang[r.language]||X(e,D,"f")[n].label})},i=0,r=X(this,D,"f").length;i<r;i++)n(i);return t}}]),e}();P=new WeakMap,j=new WeakMap,R=new WeakMap,W=new WeakMap,I=new WeakMap,N=new WeakMap,D=new WeakMap,F=new WeakMap,B=new WeakMap,q=new WeakMap,H=new WeakMap,z=new WeakMap,V=new WeakMap,U=new WeakMap,G=new WeakMap;var Q,Y,J,Z,ee,te,ne,ie,re,se,ae=$,oe=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},fe=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},ce=function(){function e(t,n,i){var r=this;a()(this,e),Q.set(this,void 0),Y.set(this,void 0),J.set(this,void 0),Z.set(this,[]),ee.set(this,0),te.set(this,0),ne.set(this,void 0),ie.set(this,void 0),re.set(this,void 0),se.set(this,void 0),oe(this,Q,t,"f"),oe(this,ie,t.getOptions().labels,"f"),oe(this,re,n,"f"),oe(this,se,i,"f"),oe(this,Y,document.body.classList.contains("op-fullscreen__on"),"f");var s=document;return this.fullScreenEnabled=!!(s.fullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled||s.webkitSupportsFullscreen||s.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen),this._keydownEvent=this._keydownEvent.bind(this),this._fullscreenChange=this._fullscreenChange.bind(this),oe(this,Z,["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],"f"),fe(this,Z,"f").forEach((function(e){document.addEventListener(e,r._fullscreenChange,k)})),this._setFullscreenData(!1),fe(this,Q,"f").getContainer().addEventListener("keydown",this._keydownEvent,k),v&&(fe(this,Q,"f").getElement().addEventListener("webkitbeginfullscreen",(function(){oe(r,Y,!0,"f"),r._setFullscreenData(!0),document.body.classList.add("op-fullscreen__on")}),k),fe(this,Q,"f").getElement().addEventListener("webkitendfullscreen",(function(){oe(r,Y,!1,"f"),r._setFullscreenData(!1),document.body.classList.remove("op-fullscreen__on")}),k)),this}return f()(e,[{key:"create",value:function(){var e=this;oe(this,J,document.createElement("button"),"f"),fe(this,J,"f").type="button",fe(this,J,"f").className="op-controls__fullscreen op-control__".concat(fe(this,re,"f")),fe(this,J,"f").tabIndex=0,fe(this,J,"f").title=fe(this,ie,"f").fullscreen,fe(this,J,"f").setAttribute("aria-controls",fe(this,Q,"f").id),fe(this,J,"f").setAttribute("aria-pressed","false"),fe(this,J,"f").setAttribute("aria-label",fe(this,ie,"f").fullscreen),fe(this,J,"f").innerHTML='<span class="op-sr">'.concat(fe(this,ie,"f").fullscreen,"</span>"),oe(this,ne,(function(){fe(e,J,"f").setAttribute("aria-pressed","true"),e.toggleFullscreen()}),"f"),oe(this,ne,fe(this,ne,"f").bind(this),"f"),fe(this,J,"f").addEventListener("click",fe(this,ne,"f"),k),fe(this,Q,"f").getControls().getLayer(fe(this,se,"f")).appendChild(fe(this,J,"f"))}},{key:"destroy",value:function(){var e=this;fe(this,Q,"f").getContainer().removeEventListener("keydown",this._keydownEvent),fe(this,Z,"f").forEach((function(t){document.removeEventListener(t,e._fullscreenChange)})),v&&(fe(this,Q,"f").getElement().removeEventListener("webkitbeginfullscreen",(function(){oe(e,Y,!0,"f"),e._setFullscreenData(!1),document.body.classList.add("op-fullscreen__on")})),fe(this,Q,"f").getElement().removeEventListener("webkitendfullscreen",(function(){oe(e,Y,!1,"f"),e._setFullscreenData(!0),document.body.classList.remove("op-fullscreen__on")}))),fe(this,J,"f").removeEventListener("click",fe(this,ne,"f")),x(fe(this,J,"f"))}},{key:"toggleFullscreen",value:function(){if(fe(this,Y,"f")){var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():document.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():this._fullscreenChange(),document.body.classList.remove("op-fullscreen__on")}else{var t=fe(this,Q,"f").getElement();oe(this,ee,window.screen.width,"f"),oe(this,te,window.screen.height,"f"),t.requestFullscreen?t.parentElement.requestFullscreen():t.mozRequestFullScreen?t.parentElement.mozRequestFullScreen():t.webkitRequestFullScreen?t.parentElement.webkitRequestFullScreen():t.msRequestFullscreen?t.parentElement.msRequestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():this._fullscreenChange(),document.body.classList.add("op-fullscreen__on")}if("undefined"!=typeof window&&(y||v)){var n=window.screen;n.orientation&&(fe(this,Y,"f")||n.orientation.lock("landscape"))}}},{key:"_fullscreenChange",value:function(){var e=fe(this,Y,"f")?void 0:fe(this,ee,"f"),t=fe(this,Y,"f")?void 0:fe(this,te,"f");this._setFullscreenData(!fe(this,Y,"f")),fe(this,Q,"f").isAd()&&fe(this,Q,"f").getAd().resizeAds(e,t),oe(this,Y,!fe(this,Y,"f"),"f"),fe(this,Y,"f")?document.body.classList.add("op-fullscreen__on"):document.body.classList.remove("op-fullscreen__on"),this._resize(e,t)}},{key:"_setFullscreenData",value:function(e){fe(this,Q,"f").getContainer().setAttribute("data-fullscreen",(!!e).toString()),fe(this,J,"f")&&(e?fe(this,J,"f").classList.add("op-controls__fullscreen--out"):fe(this,J,"f").classList.remove("op-controls__fullscreen--out"))}},{key:"_resize",value:function(e,t){var n=fe(this,Q,"f").getContainer(),i=fe(this,Q,"f").getElement(),r=fe(this,Q,"f").getOptions(),s="";if(e)n.style.width="100%",i.style.width="100%";else if(r.width){var a="number"==typeof r.width?"".concat(r.width,"px"):r.width;s+="width: ".concat(a," !important;"),i.style.removeProperty("width")}else i.style.removeProperty("width"),n.style.removeProperty("width");if(t)i.style.height="100%",n.style.height="100%";else if(r.height){var o="number"==typeof r.height?"".concat(r.height,"px"):r.height;s+="height: ".concat(o," !important;"),i.style.removeProperty("height")}else i.style.removeProperty("height"),n.style.removeProperty("height");s&&n.setAttribute("style",s)}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__fullscreen"))||13!==n&&32!==n||(this.toggleFullscreen(),e.preventDefault(),e.stopPropagation())}}]),e}();Q=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,ie=new WeakMap,re=new WeakMap,se=new WeakMap;var ue=ce;function le(e){return/\.m3u8$/i.test(e.src)||["application/x-mpegURL","application/vnd.apple.mpegurl"].indexOf(e.type)>-1}function de(e){return/\.mpd/i.test(e.src)||"application/dash+xml"===e.type}function he(e){return/(^rtmp:\/\/|\.flv$)/i.test(e.src)||["video/x-flv","video/flv"].indexOf(e.type)>-1}function pe(e,t){var n=function(e){var t=e.split("?")[0],n=t?t.split("\\"):null,i=n?n.pop():null,r=i?i.split("/"):null,s=r?r.pop():null;return s&&s.indexOf(".")>-1?s.substring(s.lastIndexOf(".")+1):""}(e);if(!n)return L(t)?"audio/mp3":"video/mp4";switch(n){case"m3u8":case"m3u":return"application/x-mpegURL";case"mpd":return"application/dash+xml";case"mp4":return L(t)?"audio/mp4":"video/mp4";case"mp3":return"audio/mp3";case"webm":return L(t)?"audio/webm":"video/webm";case"ogg":return L(t)?"audio/ogg":"video/ogg";case"ogv":return"video/ogg";case"oga":return"audio/ogg";case"3gp":return"audio/3gpp";case"wav":return"audio/wav";case"aac":return"audio/aac";case"flac":return"audio/flac";default:return L(t)?"audio/mp3":"video/mp4"}}var ve,me,ye,ge,be,we,Ee,ke,_e,Ae,Le=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},xe=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Me=function(){function e(t,n,i){return a()(this,e),ve.set(this,void 0),me.set(this,void 0),ye.set(this,void 0),ge.set(this,{button:{},global:{},media:{}}),be.set(this,void 0),we.set(this,void 0),Ee.set(this,[]),ke.set(this,""),_e.set(this,void 0),Ae.set(this,void 0),Le(this,ve,t,"f"),Le(this,we,t.getOptions().labels,"f"),Le(this,be,t.getOptions().detachMenus,"f"),Le(this,_e,n,"f"),Le(this,Ae,i,"f"),this}return f()(e,[{key:"create",value:function(){var e=this,t=null!==xe(this,ve,"f").getOptions().defaultLevel?parseInt(xe(this,ve,"f").getOptions().defaultLevel,10):xe(this,ve,"f").getMedia().level;Le(this,ke,"".concat(t),"f");var n=this._formatMenuItems(),i=n.length?n.find((function(t){return t.key===xe(e,ke,"f")})):null,r=i?i.label:xe(this,we,"f").auto,s=!1;Le(this,me,document.createElement("button"),"f"),xe(this,me,"f").className="op-controls__levels op-control__".concat(xe(this,_e,"f")),xe(this,me,"f").tabIndex=0,xe(this,me,"f").title=xe(this,we,"f").mediaLevels,xe(this,me,"f").setAttribute("aria-controls",xe(this,ve,"f").id),xe(this,me,"f").setAttribute("aria-label",xe(this,we,"f").mediaLevels),xe(this,me,"f").setAttribute("data-active-level",xe(this,ke,"f")),xe(this,me,"f").innerHTML="<span>".concat(r,"</span>");var a=function(){xe(e,Ee,"f").length?s||(xe(e,ve,"f").getMedia().level=t,s=!0):(e._gatherLevels(),setTimeout((function(){xe(e,ve,"f").getMedia().level=t;var n=_("controlschanged");xe(e,ve,"f").getElement().dispatchEvent(n)}),0))};xe(this,ge,"f").media.loadedmetadata=a.bind(this),xe(this,ge,"f").media.manifestLoaded=a.bind(this),xe(this,ge,"f").media.hlsManifestParsed=a.bind(this),xe(this,be,"f")&&(this._buildMenu(),xe(this,ge,"f").button.click=function(){if(xe(e,be,"f")){for(var t=xe(e,ve,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==xe(e,ye,"f")&&t[n].setAttribute("aria-hidden","true");"true"===xe(e,ye,"f").getAttribute("aria-hidden")?xe(e,ye,"f").setAttribute("aria-hidden","false"):xe(e,ye,"f").setAttribute("aria-hidden","true")}},xe(this,ge,"f").button.mouseover=function(){if(!m&&!y){for(var t=xe(e,ve,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==xe(e,ye,"f")&&t[n].setAttribute("aria-hidden","true");"true"===xe(e,ye,"f").getAttribute("aria-hidden")&&xe(e,ye,"f").setAttribute("aria-hidden","false")}},xe(this,ge,"f").button.mouseout=function(){if(!m&&!y){for(var t=xe(e,ve,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===xe(e,ye,"f").getAttribute("aria-hidden")&&xe(e,ye,"f").setAttribute("aria-hidden","true")}},xe(this,me,"f").addEventListener("click",xe(this,ge,"f").button.click,k),xe(this,me,"f").addEventListener("mouseover",xe(this,ge,"f").button.mouseover,k),xe(this,ye,"f").addEventListener("mouseover",xe(this,ge,"f").button.mouseover,k),xe(this,ye,"f").addEventListener("mouseout",xe(this,ge,"f").button.mouseout,k),xe(this,ve,"f").getElement().addEventListener("controlshidden",xe(this,ge,"f").button.mouseout,k)),xe(this,ge,"f").global.click=function(t){var n=t.target,i=xe(e,ve,"f").getMedia().currentTime,r=xe(e,ve,"f").getMedia().paused;if(n.closest("#".concat(xe(e,ve,"f").id))&&T(n,"op-levels__option")){var s=n.getAttribute("data-value"),a=parseInt(s?s.replace("levels-",""):"-1",10);if(Le(e,ke,"".concat(a),"f"),xe(e,be,"f")){xe(e,me,"f").setAttribute("data-active-level","".concat(a)),xe(e,me,"f").innerHTML="<span>".concat(n.innerText,"</span>");for(var o=n.parentElement&&n.parentElement.parentElement?n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"):[],f=0,c=o.length;f<c;++f)o[f].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),xe(e,ye,"f").setAttribute("aria-hidden","false")}xe(e,ve,"f").getMedia().level=a,xe(e,ve,"f").getMedia().currentTime=i,r||xe(e,ve,"f").play();var u=_("levelchanged",{detail:{label:n.innerText.trim(),level:a}});xe(e,ve,"f").getElement().dispatchEvent(u),t.preventDefault(),t.stopPropagation()}};var o=h.connection||h.mozConnection||h.webkitConnection;xe(this,ge,"f").global.connection=function(){var t=xe(e,ve,"f").getMedia().current;if(!de(t)&&!le(t)){var n=o.effectiveType,i=xe(e,Ee,"f").map((function(e){return Object.assign(Object.assign({},e),{resolution:parseInt(e.label.replace("p",""),10)})})),r=i.find((function(e){return e.resolution<360}));"4g"===n?r=i.find((function(e){return e.resolution>=720})):"3g"===n&&(r=i.find((function(e){return e.resolution>=360&&e.resolution<720}))),r&&(xe(e,ve,"f").pause(),xe(e,ve,"f").getMedia().level=r.id,xe(e,ve,"f").play()),n=o.effectiveType}},Object.keys(xe(this,ge,"f").media).forEach((function(t){xe(e,ve,"f").getElement().addEventListener(t,xe(e,ge,"f").media[t],k)})),document.addEventListener("click",xe(this,ge,"f").global.click,k),o&&o.addEventListener("change",xe(this,ge,"f").global.connection,k)}},{key:"destroy",value:function(){var e=this,t=h.connection||h.mozConnection||h.webkitConnection;Object.keys(xe(this,ge,"f").media).forEach((function(t){xe(e,ve,"f").getElement().removeEventListener(t,xe(e,ge,"f").media[t])})),document.removeEventListener("click",xe(this,ge,"f").global.click),t&&t.removeEventListener("change",xe(this,ge,"f").global.connection),xe(this,be,"f")&&(xe(this,me,"f").removeEventListener("click",xe(this,ge,"f").button.click),x(xe(this,me,"f")),xe(this,me,"f").removeEventListener("mouseover",xe(this,ge,"f").button.mouseover),xe(this,ye,"f").removeEventListener("mouseover",xe(this,ge,"f").button.mouseover),xe(this,ye,"f").removeEventListener("mouseout",xe(this,ge,"f").button.mouseout),xe(this,ve,"f").getElement().removeEventListener("controlshidden",xe(this,ge,"f").button.mouseout),x(xe(this,ye,"f")))}},{key:"addSettings",value:function(){if(xe(this,be,"f"))return{};var e=this._formatMenuItems();return e.length>2?{className:"op-levels__option",default:xe(this,ke,"f")||"-1",key:"levels",name:xe(this,we,"f").levels,subitems:e}:{}}},{key:"_formatMenuItems",value:function(){for(var e=this._gatherLevels(),t=e.length,n=t?[{key:"-1",label:xe(this,we,"f").auto}]:[],i=function(t){var i=e[t];(n=n.filter((function(e){return e.key!==i.id}))).push({key:i.id,label:i.label})},r=0;r<t;r++)i(r);return n=n.reduce((function(e,t){return e.find((function(e){return e.label===t.label}))?e:e.concat([t])}),[]).sort((function(e,t){return parseInt(e.label,10)>parseInt(t.label,10)?1:-1}))}},{key:"_getResolutionsLabel",value:function(e){return e>=4320?"8K":e>=2160?"4K":e>=1440?"1440p":e>=1080?"1080p":e>=720?"720p":e>=480?"480p":e>=360?"360p":e>=240?"240p":e>=144?"144p":xe(this,we,"f").auto}},{key:"_gatherLevels",value:function(){var e=this;return xe(this,Ee,"f").length||xe(this,ve,"f").getMedia().levels.forEach((function(t){xe(e,Ee,"f").push(Object.assign(Object.assign({},t),{label:t.label||e._getResolutionsLabel(t.height)}))})),xe(this,Ee,"f")}},{key:"_buildMenu",value:function(){var e=this;if(xe(this,be,"f")){xe(this,me,"f").classList.add("op-control--no-hover"),Le(this,ye,document.createElement("div"),"f"),xe(this,ye,"f").className="op-settings op-levels__menu",xe(this,ye,"f").setAttribute("aria-hidden","true");var t=this._formatMenuItems(),n='<div class="op-settings__menu" role="menu" id="menu-item-levels">\n                '.concat(t.map((function(t){return'\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio"\n                    aria-checked="'.concat(xe(e,ke,"f")===t.key?"true":"false",'">\n                    <div class="op-settings__submenu-label ').concat("op-levels__option",'" data-value="levels-').concat(t.key,'">').concat(t.label,"</div>\n                </div>")})).join(""),"\n            </div>");xe(this,ye,"f").innerHTML=n;var i=document.createElement("div");i.className="op-controls__container op-control__".concat(xe(this,_e,"f")),i.appendChild(xe(this,me,"f")),i.appendChild(xe(this,ye,"f")),xe(this,ve,"f").getControls().getLayer(xe(this,Ae,"f")).appendChild(i)}}}]),e}();ve=new WeakMap,me=new WeakMap,ye=new WeakMap,ge=new WeakMap,be=new WeakMap,we=new WeakMap,Ee=new WeakMap,ke=new WeakMap,_e=new WeakMap,Ae=new WeakMap;var Te,Ce,Oe,Se,Pe,je,Re=Me,We=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Ie=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Ne=function(){function e(t,n,i){return a()(this,e),Te.set(this,void 0),Ce.set(this,void 0),Oe.set(this,{controls:{},media:{}}),Se.set(this,void 0),Pe.set(this,void 0),je.set(this,void 0),We(this,Te,t,"f"),We(this,Se,Ie(this,Te,"f").getOptions().labels,"f"),We(this,Pe,n,"f"),We(this,je,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}return f()(e,[{key:"create",value:function(){var e=this;We(this,Ce,document.createElement("button"),"f"),Ie(this,Ce,"f").type="button",Ie(this,Ce,"f").className="op-controls__playpause op-control__".concat(Ie(this,Pe,"f")),Ie(this,Ce,"f").tabIndex=0,Ie(this,Ce,"f").title=Ie(this,Se,"f").play,Ie(this,Ce,"f").setAttribute("aria-controls",Ie(this,Te,"f").id),Ie(this,Ce,"f").setAttribute("aria-pressed","false"),Ie(this,Ce,"f").setAttribute("aria-label",Ie(this,Se,"f").play),Ie(this,Ce,"f").innerHTML='<span class="op-sr">'.concat(Ie(this,Se,"f").play,"/").concat(Ie(this,Se,"f").pause,"</span>"),Ie(this,Te,"f").getControls().getLayer(Ie(this,je,"f")).appendChild(Ie(this,Ce,"f")),Ie(this,Oe,"f").media.click=function(t){Ie(e,Ce,"f").setAttribute("aria-pressed","true");var n=Ie(e,Te,"f").activeElement();n.paused||n.ended?(Ie(e,Te,"f").getAd()&&(Ie(e,Te,"f").getAd().playRequested=!0),n.play(),Ie(e,Oe,"f").media.play()):(n.pause(),Ie(e,Oe,"f").media.pause()),t.preventDefault(),t.stopPropagation()};var t=L(Ie(this,Te,"f").getElement());Ie(this,Oe,"f").media.play=function(){Ie(e,Te,"f").activeElement().ended?(Ie(e,Te,"f").isMedia()?Ie(e,Ce,"f").classList.add("op-controls__playpause--replay"):Ie(e,Ce,"f").classList.add("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").play,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").play)):(Ie(e,Ce,"f").classList.remove("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.add("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").pause,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").pause),Ie(e,Te,"f").getOptions().pauseOthers&&Object.keys(ur.instances).forEach((function(t){t!==Ie(e,Te,"f").id&&ur.instances[t].activeElement().pause()})))},Ie(this,Oe,"f").media.loadedmetadata=function(){T(Ie(e,Ce,"f"),"op-controls__playpause--pause")&&(Ie(e,Ce,"f").classList.remove("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.remove("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").play,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").play))},Ie(this,Oe,"f").media.playing=function(){T(Ie(e,Ce,"f"),"op-controls__playpause--pause")||(Ie(e,Ce,"f").classList.remove("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.add("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").pause,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").pause))},Ie(this,Oe,"f").media.pause=function(){Ie(e,Ce,"f").classList.remove("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").play,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").play)},Ie(this,Oe,"f").media.ended=function(){Ie(e,Te,"f").activeElement().ended&&Ie(e,Te,"f").isMedia()||Ie(e,Te,"f").getElement().currentTime>=Ie(e,Te,"f").getElement().duration||Ie(e,Te,"f").getElement().currentTime<=0?(Ie(e,Ce,"f").classList.add("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.remove("op-controls__playpause--pause")):(Ie(e,Ce,"f").classList.remove("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.add("op-controls__playpause--pause")),Ie(e,Ce,"f").title=Ie(e,Se,"f").play,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").play)},Ie(this,Oe,"f").media.adsmediaended=function(){Ie(e,Ce,"f").classList.remove("op-controls__playpause--replay"),Ie(e,Ce,"f").classList.add("op-controls__playpause--pause"),Ie(e,Ce,"f").title=Ie(e,Se,"f").pause,Ie(e,Ce,"f").setAttribute("aria-label",Ie(e,Se,"f").pause)},Ie(this,Oe,"f").media.playererror=function(){t&&Ie(e,Te,"f").activeElement().pause()};var n=Ie(this,Te,"f").getElement();Ie(this,Oe,"f").controls.controlschanged=function(){if(!Ie(e,Te,"f").activeElement().paused){var t=_("playing");n.dispatchEvent(t)}},Object.keys(Ie(this,Oe,"f").media).forEach((function(t){n.addEventListener(t,Ie(e,Oe,"f").media[t],k)})),Ie(this,Te,"f").getControls().getContainer().addEventListener("controlschanged",Ie(this,Oe,"f").controls.controlschanged,k),Ie(this,Te,"f").getContainer().addEventListener("keydown",this._keydownEvent,k),Ie(this,Ce,"f").addEventListener("click",Ie(this,Oe,"f").media.click,k)}},{key:"destroy",value:function(){var e=this;Object.keys(Ie(this,Oe,"f").media).forEach((function(t){Ie(e,Te,"f").getElement().removeEventListener(t,Ie(e,Oe,"f").media[t])})),Ie(this,Te,"f").getControls().getContainer().removeEventListener("controlschanged",Ie(this,Oe,"f").controls.controlschanged),Ie(this,Te,"f").getContainer().removeEventListener("keydown",this._keydownEvent),Ie(this,Ce,"f").removeEventListener("click",Ie(this,Oe,"f").media.click),x(Ie(this,Ce,"f"))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__playpause"))||13!==n&&32!==n||Ie(this,Oe,"f").media.click(e)}}]),e}();Te=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,Se=new WeakMap,Pe=new WeakMap,je=new WeakMap;var De,Fe,Be,qe,He,ze,Ve,Ue,Ge,Ke,Xe,$e=Ne,Qe=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Ye=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Je=function(){function e(t,n,i){return a()(this,e),De.set(this,void 0),Fe.set(this,void 0),Be.set(this,void 0),qe.set(this,void 0),He.set(this,void 0),ze.set(this,void 0),Ve.set(this,{container:{},controls:{},global:{},media:{},slider:{}}),Ue.set(this,void 0),Ge.set(this,void 0),Ke.set(this,void 0),Xe.set(this,void 0),Qe(this,De,t,"f"),Qe(this,Ge,t.getOptions().labels,"f"),Qe(this,Ue,!1,"f"),Qe(this,Ke,n,"f"),Qe(this,Xe,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}return f()(e,[{key:"create",value:function(){var e=this;Qe(this,Fe,document.createElement("div"),"f"),Ye(this,Fe,"f").className="op-controls__progress op-control__".concat(Ye(this,Ke,"f")),Ye(this,Fe,"f").tabIndex=0,Ye(this,Fe,"f").setAttribute("aria-label",Ye(this,Ge,"f").progressSlider),Ye(this,Fe,"f").setAttribute("aria-valuemin","0"),Qe(this,Be,document.createElement("input"),"f"),Ye(this,Be,"f").type="range",Ye(this,Be,"f").className="op-controls__progress--seek",Ye(this,Be,"f").tabIndex=-1,Ye(this,Be,"f").setAttribute("min","0"),Ye(this,Be,"f").setAttribute("max","0"),Ye(this,Be,"f").setAttribute("step","0.1"),Ye(this,Be,"f").value="0",Ye(this,Be,"f").setAttribute("aria-label",Ye(this,Ge,"f").progressRail),Ye(this,Be,"f").setAttribute("role","slider"),Qe(this,qe,document.createElement("progress"),"f"),Ye(this,qe,"f").className="op-controls__progress--buffer",Ye(this,qe,"f").setAttribute("max","100"),Ye(this,qe,"f").value=0,Qe(this,He,document.createElement("progress"),"f"),Ye(this,He,"f").className="op-controls__progress--played",Ye(this,He,"f").setAttribute("max","100"),Ye(this,He,"f").setAttribute("role","presentation"),Ye(this,He,"f").value=0,Ye(this,Fe,"f").appendChild(Ye(this,Be,"f")),Ye(this,Fe,"f").appendChild(Ye(this,He,"f")),Ye(this,Fe,"f").appendChild(Ye(this,qe,"f")),m||y||(Qe(this,ze,document.createElement("span"),"f"),Ye(this,ze,"f").className="op-controls__tooltip",Ye(this,ze,"f").tabIndex=-1,Ye(this,ze,"f").innerHTML="00:00",Ye(this,Fe,"f").appendChild(Ye(this,ze,"f")));var t=function(){Ye(e,Be,"f").classList.contains("error")&&Ye(e,Be,"f").classList.remove("error");var t=Ye(e,De,"f").activeElement();if(t.duration===1/0||Ye(e,De,"f").getElement().getAttribute("op-live__enabled")||Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled"))Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled")?(Ye(e,Be,"f").setAttribute("max","1"),Ye(e,Be,"f").value="1",Ye(e,Be,"f").style.backgroundSize="100% 100%",Ye(e,He,"f").value=1,Ye(e,Fe,"f").setAttribute("aria-valuemax","1"),Ye(e,Fe,"f").setAttribute("aria-hidden","false")):Ye(e,De,"f").getOptions().live.showProgress||Ye(e,Fe,"f").setAttribute("aria-hidden","true");else{Ye(e,Be,"f").setAttribute("max","".concat(t.duration));var n=Ye(e,De,"f").isMedia()?t.currentTime:t.duration-t.currentTime;Ye(e,Be,"f").value=n.toString(),Ye(e,Fe,"f").setAttribute("aria-valuemax",t.duration.toString())}},n=0,i=Ye(this,De,"f").getOptions().progress.duration||0,r=L(Ye(this,De,"f").getElement());Ye(this,Ve,"f").media.loadedmetadata=t.bind(this),Ye(this,Ve,"f").controls.controlschanged=t.bind(this),Ye(this,Ve,"f").media.progress=function(t){var n=t.target;if(n.duration===1/0||Ye(e,De,"f").getElement().getAttribute("op-live__enabled"))Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==Ye(e,Fe,"f").getAttribute("aria-hidden")||Ye(e,De,"f").getOptions().live.showProgress||Ye(e,Fe,"f").setAttribute("aria-hidden","true");else if(n.duration>0)for(var i=0,r=n.buffered.length;i<r;i++)if(n.buffered.start(n.buffered.length-1-i)<n.currentTime){Ye(e,qe,"f").value=n.buffered.end(n.buffered.length-1-i)/n.duration*100;break}},Ye(this,Ve,"f").media.waiting=function(){r&&!Ye(e,Be,"f").classList.contains("loading")&&Ye(e,Be,"f").classList.add("loading"),r&&Ye(e,Be,"f").classList.contains("error")&&Ye(e,Be,"f").classList.remove("error")},Ye(this,Ve,"f").media.playererror=function(){r&&!Ye(e,Be,"f").classList.contains("error")&&Ye(e,Be,"f").classList.add("error"),r&&Ye(e,Be,"f").classList.contains("loading")&&Ye(e,Be,"f").classList.remove("loading")},Ye(this,Ve,"f").media.pause=function(){var t=Ye(e,De,"f").activeElement();if(t.duration!==1/0&&!Ye(e,De,"f").getElement().getAttribute("op-live__enabled")){var n=t.currentTime;Ye(e,Fe,"f").setAttribute("aria-valuenow",n.toString()),Ye(e,Fe,"f").setAttribute("aria-valuetext",O(n))}},Ye(this,Ve,"f").media.play=function(){r&&Ye(e,Be,"f").classList.contains("loading")&&Ye(e,Be,"f").classList.remove("loading"),r&&Ye(e,Be,"f").classList.contains("error")&&Ye(e,Be,"f").classList.remove("error"),Ye(e,De,"f").activeElement().duration===1/0||Ye(e,De,"f").getElement().getAttribute("op-live__enabled")||(Ye(e,Fe,"f").removeAttribute("aria-valuenow"),Ye(e,Fe,"f").removeAttribute("aria-valuetext"))},Ye(this,Ve,"f").media.playing=function(){r&&Ye(e,Be,"f").classList.contains("loading")&&Ye(e,Be,"f").classList.remove("loading"),r&&Ye(e,Be,"f").classList.contains("error")&&Ye(e,Be,"f").classList.remove("error")},Ye(this,Ve,"f").media.timeupdate=function(){var t=Ye(e,De,"f").activeElement();if(t.duration===1/0||Ye(e,De,"f").getElement().getAttribute("op-live__enabled")&&!Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled"))Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==Ye(e,Fe,"f").getAttribute("aria-hidden")||Ye(e,De,"f").getOptions().live.showProgress||Ye(e,Fe,"f").setAttribute("aria-hidden","true");else{Ye(e,Be,"f").getAttribute("max")&&"0"!==Ye(e,Be,"f").getAttribute("max")&&parseFloat(Ye(e,Be,"f").getAttribute("max")||"-1")===t.duration||(Ye(e,Be,"f").setAttribute("max","".concat(t.duration)),Ye(e,Fe,"f").setAttribute("aria-hidden","false"));var r=t.duration-t.currentTime+1>=100?100:t.duration-t.currentTime+1,s=Ye(e,De,"f").isMedia()?t.currentTime:r,a=parseFloat(Ye(e,Be,"f").min),o=parseFloat(Ye(e,Be,"f").max);Ye(e,Be,"f").value=s.toString(),Ye(e,Be,"f").style.backgroundSize="".concat(100*(s-a)/(o-a),"% 100%"),Ye(e,He,"f").value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:s/t.duration*100,Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled")&&Math.floor(Ye(e,He,"f").value)>=99&&(n=t.currentTime,Ye(e,Fe,"f").setAttribute("aria-hidden","false"))}},Ye(this,Ve,"f").media.durationchange=function(){var t=Ye(e,De,"f").activeElement(),n=Ye(e,De,"f").isMedia()?t.currentTime:t.duration-t.currentTime;Ye(e,Be,"f").setAttribute("max","".concat(t.duration)),Ye(e,Fe,"f").setAttribute("aria-valuemax",t.duration.toString()),Ye(e,He,"f").value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:n/t.duration*100},Ye(this,Ve,"f").media.ended=function(){Ye(e,Be,"f").style.backgroundSize="0% 100%",Ye(e,Be,"f").setAttribute("max","0"),Ye(e,qe,"f").value=0,Ye(e,He,"f").value=0};var s=function(t){if(!T(Ye(e,Be,"f"),"op-progress--pressed")){var r=t.target;Ye(e,Be,"f").classList.add(".op-progress--pressed");var s=Ye(e,De,"f").activeElement(),a=parseFloat(r.min),o=parseFloat(r.max),f=parseFloat(r.value);Ye(e,Be,"f").style.backgroundSize="".concat(100*(f-a)/(o-a),"% 100%"),Ye(e,He,"f").value=s.duration<=0||isNaN(s.duration)||!isFinite(s.duration)?i:f/s.duration*100,Ye(e,De,"f").getElement().getAttribute("op-dvr__enabled")?s.currentTime=Math.round(Ye(e,He,"f").value)>=99?n:f:s.currentTime=f,Ye(e,Be,"f").classList.remove(".op-progress--pressed")}},a=function(t){var n=Ye(e,De,"f").activeElement();1!==t.which&&0!==t.which||!Ye(e,De,"f").isMedia()||n.paused||(n.pause(),Qe(e,Ue,!0,"f"))},o=function(){var t=Ye(e,De,"f").activeElement();!0===Ye(e,Ue,"f")&&Ye(e,De,"f").isMedia()&&t.paused&&(t.play(),Qe(e,Ue,!1,"f"))};Ye(this,Ve,"f").slider.input=s.bind(this),Ye(this,Ve,"f").slider.change=s.bind(this),Ye(this,Ve,"f").slider.mousedown=a.bind(this),Ye(this,Ve,"f").slider.mouseup=o.bind(this),Ye(this,Ve,"f").slider.touchstart=function(t){var n=Ye(e,De,"f").activeElement();if(n.duration!==1/0){var i=t.originalEvent?t.originalEvent.changedTouches:t.changedTouches,r=((i?i[0].pageX:t.pageX)-C(Ye(e,Fe,"f")).left)/Ye(e,Fe,"f").offsetWidth*n.duration;Ye(e,Be,"f").value=r.toString(),s(t),a(t)}}.bind(this),Ye(this,Ve,"f").slider.touchend=o.bind(this),m||y||(Ye(this,Ve,"f").container.mousemove=function(t){var n=Ye(e,De,"f").activeElement();if(n.duration!==1/0&&!Ye(e,De,"f").isAd()){var i=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,r=i-C(Ye(e,Fe,"f")).left,s=Ye(e,ze,"f").offsetWidth/2,a=r/Ye(e,Fe,"f").offsetWidth,o=a*n.duration,f=Ye(e,De,"f").getContainer(),c=f.offsetWidth-Ye(e,ze,"f").offsetWidth;r<=0||i-C(f).left<=s?r=0:i-C(f).left>=c?r=c-C(Ye(e,Be,"f")).left-10:r-=s,a>=0&&a<=1?Ye(e,ze,"f").classList.add("op-controls__tooltip--visible"):Ye(e,ze,"f").classList.remove("op-controls__tooltip--visible"),Ye(e,ze,"f").style.left="".concat(r,"px"),Ye(e,ze,"f").innerHTML=isNaN(o)?"00:00":O(o)}},Ye(this,Ve,"f").global.mousemove=function(t){t.target.closest(".op-controls__progress")&&!Ye(e,De,"f").isAd()||Ye(e,ze,"f").classList.remove("op-controls__tooltip--visible")}),Object.keys(Ye(this,Ve,"f").media).forEach((function(t){Ye(e,De,"f").getElement().addEventListener(t,Ye(e,Ve,"f").media[t],k)})),Object.keys(Ye(this,Ve,"f").slider).forEach((function(t){Ye(e,Be,"f").addEventListener(t,Ye(e,Ve,"f").slider[t],k)})),Ye(this,Fe,"f").addEventListener("keydown",Ye(this,De,"f").getEvents().keydown,k),Ye(this,Fe,"f").addEventListener("mousemove",Ye(this,Ve,"f").container.mousemove,k),document.addEventListener("mousemove",Ye(this,Ve,"f").global.mousemove,k),Ye(this,De,"f").getContainer().addEventListener("keydown",this._keydownEvent,k),Ye(this,De,"f").getControls().getContainer().addEventListener("controlschanged",Ye(this,Ve,"f").controls.controlschanged,k),Ye(this,De,"f").getControls().getLayer(Ye(this,Xe,"f")).appendChild(Ye(this,Fe,"f"))}},{key:"destroy",value:function(){var e=this;Object.keys(Ye(this,Ve,"f")).forEach((function(t){Ye(e,De,"f").getElement().removeEventListener(t,Ye(e,Ve,"f")[t])})),Object.keys(Ye(this,Ve,"f").slider).forEach((function(t){Ye(e,Be,"f").removeEventListener(t,Ye(e,Ve,"f").slider[t])})),Ye(this,Fe,"f").removeEventListener("keydown",Ye(this,De,"f").getEvents().keydown),Ye(this,Fe,"f").removeEventListener("mousemove",Ye(this,Ve,"f").container.mousemove),document.removeEventListener("mousemove",Ye(this,Ve,"f").global.mousemove),Ye(this,De,"f").getContainer().removeEventListener("keydown",this._keydownEvent),Ye(this,De,"f").getControls().getContainer().removeEventListener("controlschanged",Ye(this,Ve,"f").controls.controlschanged),x(Ye(this,qe,"f")),x(Ye(this,He,"f")),x(Ye(this,Be,"f")),m||y||x(Ye(this,ze,"f")),x(Ye(this,Fe,"f"))}},{key:"_keydownEvent",value:function(e){var t=Ye(this,De,"f").activeElement(),n=Ye(this,De,"f").isAd(),i=e.which||e.keyCode||0;if(!n&&i>=48&&i<=57&&t.duration!==1/0){for(var r=0,s=48;s<=57;s++)s<i&&r++;t.currentTime=t.duration*(.1*r),e.preventDefault(),e.stopPropagation()}}}]),e}();De=new WeakMap,Fe=new WeakMap,Be=new WeakMap,qe=new WeakMap,He=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Ue=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,Xe=new WeakMap;var Ze,et,tt,nt,it,rt,st,at,ot,ft=Je,ct=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},ut=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},lt=function(){function e(t,n,i){return a()(this,e),Ze.set(this,void 0),et.set(this,{}),tt.set(this,void 0),nt.set(this,void 0),it.set(this,{global:{},media:{}}),rt.set(this,""),st.set(this,void 0),at.set(this,void 0),ot.set(this,void 0),ct(this,Ze,t,"f"),ct(this,st,t.getOptions().labels,"f"),ct(this,at,n,"f"),ct(this,ot,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}return f()(e,[{key:"create",value:function(){var e=this;ct(this,tt,document.createElement("button"),"f"),ut(this,tt,"f").className="op-controls__settings op-control__".concat(ut(this,at,"f")),ut(this,tt,"f").tabIndex=0,ut(this,tt,"f").title=ut(this,st,"f").settings,ut(this,tt,"f").setAttribute("aria-controls",ut(this,Ze,"f").id),ut(this,tt,"f").setAttribute("aria-pressed","false"),ut(this,tt,"f").setAttribute("aria-label",ut(this,st,"f").settings),ut(this,tt,"f").innerHTML='<span class="op-sr">'.concat(ut(this,st,"f").settings,"</span>"),ct(this,nt,document.createElement("div"),"f"),ut(this,nt,"f").className="op-settings",ut(this,nt,"f").setAttribute("aria-hidden","true"),ut(this,nt,"f").innerHTML='<div class="op-settings__menu" role="menu"></div>',this.clickEvent=function(){ut(e,tt,"f").setAttribute("aria-pressed","true");for(var t=ut(e,Ze,"f").getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==ut(e,nt,"f")&&t[n].setAttribute("aria-hidden","true");ut(e,nt,"f").setAttribute("aria-hidden","false"===ut(e,nt,"f").getAttribute("aria-hidden")?"true":"false")},this.hideEvent=function(){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){ut(e,nt,"f").innerHTML=ut(e,rt,"f"),ut(e,nt,"f").setAttribute("aria-hidden","true")})))},this.removeEvent=function(t){var n=t.detail,i=n.id,r=n.type;e.removeItem(i,r)},ut(this,it,"f").media.controlshidden=this.hideEvent.bind(this),ut(this,it,"f").media.settingremoved=this.removeEvent.bind(this),ut(this,it,"f").media.play=this.hideEvent.bind(this),ut(this,it,"f").media.pause=this.hideEvent.bind(this),ut(this,Ze,"f").getContainer().addEventListener("keydown",this._keydownEvent,k),this.clickEvent=this.clickEvent.bind(this),this.hideEvent=this.hideEvent.bind(this),ut(this,it,"f").global.click=function(t){t.target.closest("#".concat(ut(e,Ze,"f").id))&&T(t.target,"op-speed__option")&&(ut(e,Ze,"f").getMedia().playbackRate=parseFloat(t.target.getAttribute("data-value").replace("speed-","")))},ut(this,it,"f").global.resize=this.hideEvent.bind(this),ut(this,tt,"f").addEventListener("click",this.clickEvent,k),Object.keys(ut(this,it,"f")).forEach((function(t){ut(e,Ze,"f").getElement().addEventListener(t,ut(e,it,"f").media[t],k)})),document.addEventListener("click",ut(this,it,"f").global.click,k),document.addEventListener("keydown",ut(this,it,"f").global.click,k),"undefined"!=typeof window&&window.addEventListener("resize",ut(this,it,"f").global.resize,k),ut(this,Ze,"f").getControls().getLayer(ut(this,ot,"f")).appendChild(ut(this,tt,"f")),ut(this,Ze,"f").getContainer().appendChild(ut(this,nt,"f"))}},{key:"destroy",value:function(){var e=this;ut(this,tt,"f").removeEventListener("click",this.clickEvent),Object.keys(ut(this,it,"f")).forEach((function(t){ut(e,Ze,"f").getElement().removeEventListener(t,ut(e,it,"f").media[t])})),document.removeEventListener("click",ut(this,it,"f").global.click),document.removeEventListener("keydown",ut(this,it,"f").global.click),"undefined"!=typeof window&&window.removeEventListener("resize",ut(this,it,"f").global.resize),void 0!==ut(this,it,"f").global["settings.submenu"]&&(document.removeEventListener("click",ut(this,it,"f").global["settings.submenu"]),ut(this,Ze,"f").getElement().removeEventListener("controlshidden",this.hideEvent)),ut(this,Ze,"f").getContainer().removeEventListener("keydown",this._keydownEvent),x(ut(this,nt,"f")),x(ut(this,tt,"f"))}},{key:"addSettings",value:function(){var e=ut(this,Ze,"f").getMedia(),t=1;return ut(this,Ze,"f")&&e&&(t=e.defaultPlaybackRate!==e.playbackRate?e.playbackRate:e.defaultPlaybackRate),{className:"op-speed__option",default:t.toString(),key:"speed",name:ut(this,st,"f").speed,subitems:[{key:"0.25",label:"0.25"},{key:"0.5",label:"0.5"},{key:"0.75",label:"0.75"},{key:"1",label:ut(this,st,"f").speedNormal},{key:"1.25",label:"1.25"},{key:"1.5",label:"1.5"},{key:"2",label:"2"}]}}},{key:"addItem",value:function(e,t,n,i,s){var a=this,o=document.createElement("div");o.className="op-settings__menu-item",o.tabIndex=0,o.setAttribute("role","menuitemradio"),o.innerHTML='<div class="op-settings__menu-label" data-value="'.concat(t,"-").concat(n,'">').concat(e,"</div>");var f=i?i.find((function(e){return e.key===n})):null;f&&(o.innerHTML+='<div class="op-settings__menu-content" tabindex="0">'.concat(f.label,"</div>"));var c=ut(this,nt,"f").querySelector(".op-settings__menu");if(c&&c.appendChild(o),ct(this,rt,ut(this,nt,"f").innerHTML,"f"),i){var u='\n                <div class="op-settings__header">\n                    <button type="button" class="op-settings__back" tabindex="0">'.concat(e,'</button>\n                </div>\n                <div class="op-settings__menu" role="menu" id="menu-item-').concat(t,'">\n                    ').concat(i.map((function(e){return'\n                    <div class="op-settings__submenu-item" role="menuitemradio" aria-checked="'.concat(n===e.key?"true":"false",'">\n                        <div class="op-settings__submenu-label ').concat(s||"",'" tabindex="0" data-value="').concat(t,"-").concat(e.key,'">\n                            ').concat(e.label,"\n                        </div>\n                    </div>")})).join(""),"\n                </div>");ut(this,et,"f")[t]=u}ut(this,it,"f").global["settings.submenu"]=function(e){var i=e.target;if(i.closest("#".concat(ut(a,Ze,"f").id))){if(T(i,"op-settings__back"))ut(a,nt,"f").classList.add("op-settings--sliding"),setTimeout((function(){ut(a,nt,"f").innerHTML=ut(a,rt,"f"),ut(a,nt,"f").classList.remove("op-settings--sliding")}),100);else if(T(i,"op-settings__menu-content")){var s=i.parentElement?i.parentElement.querySelector(".op-settings__menu-label"):null,o=s?s.getAttribute("data-value"):null,f=o?o.split("-"):[];if(f.length>0){f.pop();var c=f.join("-").replace(/^\-|\-$/,"");void 0!==r()(ut(a,et,"f")[c])&&(ut(a,nt,"f").classList.add("op-settings--sliding"),setTimeout((function(){ut(a,nt,"f").innerHTML=ut(a,et,"f")[c],ut(a,nt,"f").classList.remove("op-settings--sliding")}),100))}}else if(T(i,"op-settings__submenu-label")){var u=i.getAttribute("data-value"),l=u?u.replace("".concat(t,"-"),""):"",d=i.innerText,h=ut(a,nt,"f").querySelector("#menu-item-".concat(t," .op-settings__submenu-item[aria-checked=true]"));h&&(h.setAttribute("aria-checked","false"),i.parentElement&&i.parentElement.setAttribute("aria-checked","true"),ut(a,et,"f")[t]=ut(a,nt,"f").innerHTML,ut(a,nt,"f").classList.add("op-settings--sliding"),setTimeout((function(){ut(a,nt,"f").innerHTML=ut(a,rt,"f");var e=ut(a,nt,"f").querySelector('.op-settings__menu-label[data-value="'.concat(t,"-").concat(n,'"]'));e&&(e.setAttribute("data-value","".concat(u)),e.nextElementSibling&&(e.nextElementSibling.innerHTML=d)),n=l,ct(a,rt,ut(a,nt,"f").innerHTML,"f"),ut(a,nt,"f").classList.remove("op-settings--sliding")}),100))}}else a.hideEvent()},document.addEventListener("click",ut(this,it,"f").global["settings.submenu"],k),ut(this,Ze,"f").getElement().addEventListener("controlshidden",this.hideEvent,k)}},{key:"removeItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=ut(this,Ze,"f").getElement().querySelector(".op-settings__submenu-label[data-value=".concat(t,"-").concat(e,"]"));if(i&&x(i),ut(this,Ze,"f").getElement().querySelectorAll(".op-settings__submenu-label[data-value^=".concat(t,"]")).length<n){delete ut(this,et,"f")[t];var r=ut(this,Ze,"f").getElement().querySelector(".op-settings__menu-label[data-value^=".concat(t,"]")),s=r?r.closest(".op-settings__menu-item"):null;s&&x(s)}}},{key:"_keydownEvent",value:function(e){var t,n,i,r,s=e.which||e.keyCode||0,a=ut(this,Ze,"f").isAd(),o=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__settings"),f=(null===(n=null===document||void 0===document?void 0:document.activeElement)||void 0===n?void 0:n.classList.contains("op-settings__menu-content"))||(null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.classList.contains("op-settings__back"))||(null===(r=null===document||void 0===document?void 0:document.activeElement)||void 0===r?void 0:r.classList.contains("op-settings__submenu-label"));a||(!o||13!==s&&32!==s?!f||13!==s&&32!==s||(ut(this,it,"f").global["settings.submenu"](e),e.preventDefault(),e.stopPropagation()):(this.clickEvent(),e.preventDefault(),e.stopPropagation()))}}]),e}();Ze=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,rt=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap;var dt,ht,pt,vt,mt,yt,gt,bt,wt,Et=lt,kt=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},_t=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},At=function(){function e(t,n,i){return a()(this,e),dt.set(this,void 0),ht.set(this,void 0),pt.set(this,void 0),vt.set(this,void 0),mt.set(this,void 0),yt.set(this,{controls:{},media:{}}),gt.set(this,void 0),bt.set(this,void 0),wt.set(this,void 0),kt(this,dt,t,"f"),kt(this,gt,t.getOptions().labels,"f"),kt(this,bt,n,"f"),kt(this,wt,i,"f"),this}return f()(e,[{key:"create",value:function(){var e=this;kt(this,ht,document.createElement("time"),"f"),_t(this,ht,"f").className="op-controls__current",_t(this,ht,"f").setAttribute("role","timer"),_t(this,ht,"f").setAttribute("aria-live","off"),_t(this,ht,"f").setAttribute("aria-hidden","false"),_t(this,ht,"f").innerText="0:00";var t=_t(this,dt,"f").getOptions().progress.showCurrentTimeOnly;t||(kt(this,pt,document.createElement("span"),"f"),_t(this,pt,"f").className="op-controls__time-delimiter",_t(this,pt,"f").setAttribute("aria-hidden","false"),_t(this,pt,"f").innerText="/",kt(this,vt,document.createElement("time"),"f"),_t(this,vt,"f").className="op-controls__duration",_t(this,vt,"f").setAttribute("aria-hidden","false"),_t(this,vt,"f").innerText=O(_t(this,dt,"f").getOptions().progress.duration));var n=_t(this,dt,"f").getControls().getLayer(_t(this,wt,"f"));kt(this,mt,document.createElement("span"),"f"),_t(this,mt,"f").className="op-controls-time op-control__".concat(_t(this,bt,"f")),_t(this,mt,"f").appendChild(_t(this,ht,"f")),t||(_t(this,mt,"f").appendChild(_t(this,pt,"f")),_t(this,mt,"f").appendChild(_t(this,vt,"f"))),n.appendChild(_t(this,mt,"f"));var i=function(){var n=_t(e,dt,"f").activeElement();if(n.duration===1/0||_t(e,dt,"f").getElement().getAttribute("op-live__enabled"))t||(_t(e,vt,"f").setAttribute("aria-hidden","true"),_t(e,pt,"f").setAttribute("aria-hidden","true"));else{if(!t){var i=isNaN(n.duration)?_t(e,dt,"f").getOptions().progress.duration:n.duration;_t(e,vt,"f").innerText=O(i)}_t(e,ht,"f").innerText=O(n.currentTime)}};_t(this,yt,"f").media.loadedmetadata=i.bind(this),_t(this,yt,"f").controls.controlschanged=i.bind(this);var r=_t(this,dt,"f").getOptions().live.showLabel;_t(this,yt,"f").media.timeupdate=function(){var n=_t(e,dt,"f").activeElement();if(n.duration===1/0||_t(e,dt,"f").getElement().getAttribute("op-live__enabled")||_t(e,dt,"f").getElement().getAttribute("op-dvr__enabled"))_t(e,dt,"f").getElement().getAttribute("op-dvr__enabled")?(t||(_t(e,vt,"f").setAttribute("aria-hidden","true"),_t(e,pt,"f").setAttribute("aria-hidden","true")),_t(e,ht,"f").innerText=O(n.currentTime)):t||!_t(e,dt,"f").getElement().getAttribute("op-dvr__enabled")&&"false"===_t(e,vt,"f").getAttribute("aria-hidden")?(t||(_t(e,vt,"f").setAttribute("aria-hidden","true"),_t(e,pt,"f").setAttribute("aria-hidden","true")),_t(e,ht,"f").innerText=r?_t(e,gt,"f").live:O(n.currentTime)):_t(e,ht,"f").innerText=r?_t(e,gt,"f").live:O(n.currentTime);else{var i=O(n.duration);t||isNaN(n.duration)||i===_t(e,vt,"f").innerText?(t||i!==_t(e,vt,"f").innerText)&&(_t(e,ht,"f").innerText=r?_t(e,gt,"f").live:O(n.currentTime)):(_t(e,vt,"f").innerText=i,_t(e,vt,"f").setAttribute("aria-hidden","false"),_t(e,pt,"f").setAttribute("aria-hidden","false")),_t(e,ht,"f").innerText=O(n.currentTime)}},_t(this,yt,"f").media.ended=function(){var n=_t(e,dt,"f").activeElement(),i=isNaN(n.duration)?_t(e,dt,"f").getOptions().progress.duration:n.duration;!t&&_t(e,dt,"f").isMedia()&&(_t(e,vt,"f").innerText=O(i))},Object.keys(_t(this,yt,"f").media).forEach((function(t){_t(e,dt,"f").getElement().addEventListener(t,_t(e,yt,"f").media[t],k)})),_t(this,dt,"f").getControls().getContainer().addEventListener("controlschanged",_t(this,yt,"f").controls.controlschanged,k)}},{key:"destroy",value:function(){var e=this;Object.keys(_t(this,yt,"f").media).forEach((function(t){_t(e,dt,"f").getElement().removeEventListener(t,_t(e,yt,"f").media[t])})),_t(this,dt,"f").getControls().getContainer().removeEventListener("controlschanged",_t(this,yt,"f").controls.controlschanged),x(_t(this,ht,"f")),_t(this,dt,"f").getOptions().progress.showCurrentTimeOnly||(x(_t(this,pt,"f")),x(_t(this,vt,"f"))),x(_t(this,mt,"f"))}}]),e}();dt=new WeakMap,ht=new WeakMap,pt=new WeakMap,vt=new WeakMap,mt=new WeakMap,yt=new WeakMap,gt=new WeakMap,bt=new WeakMap,wt=new WeakMap;var Lt,xt,Mt,Tt,Ct,Ot,St,Pt,jt,Rt,Wt=At,It=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Nt=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Dt=function(){function e(t,n,i){return a()(this,e),Lt.set(this,void 0),xt.set(this,void 0),Mt.set(this,void 0),Tt.set(this,void 0),Ct.set(this,void 0),Ot.set(this,{button:{},media:{},slider:{}}),St.set(this,void 0),Pt.set(this,void 0),jt.set(this,void 0),Rt.set(this,void 0),It(this,Lt,t,"f"),It(this,Pt,t.getOptions().labels,"f"),It(this,St,Nt(this,Lt,"f").getMedia().volume,"f"),It(this,jt,n,"f"),It(this,Rt,i,"f"),this._keydownEvent=this._keydownEvent.bind(this),this}return f()(e,[{key:"create",value:function(){var e=this;It(this,Mt,document.createElement("div"),"f"),Nt(this,Mt,"f").className="op-controls__volume op-control__".concat(Nt(this,jt,"f")),Nt(this,Mt,"f").tabIndex=0,Nt(this,Mt,"f").setAttribute("aria-valuemin","0"),Nt(this,Mt,"f").setAttribute("aria-valuemax","100"),Nt(this,Mt,"f").setAttribute("aria-valuenow","".concat(Nt(this,St,"f"))),Nt(this,Mt,"f").setAttribute("aria-valuetext","".concat(Nt(this,Pt,"f").volume,": ").concat(Nt(this,St,"f"))),Nt(this,Mt,"f").setAttribute("aria-orientation","vertical"),Nt(this,Mt,"f").setAttribute("aria-label",Nt(this,Pt,"f").volumeSlider),It(this,Ct,document.createElement("input"),"f"),Nt(this,Ct,"f").type="range",Nt(this,Ct,"f").className="op-controls__volume--input",Nt(this,Ct,"f").tabIndex=-1,Nt(this,Ct,"f").value=Nt(this,Lt,"f").getMedia().volume.toString(),Nt(this,Ct,"f").setAttribute("min","0"),Nt(this,Ct,"f").setAttribute("max","1"),Nt(this,Ct,"f").setAttribute("step","0.1"),Nt(this,Ct,"f").setAttribute("aria-label",Nt(this,Pt,"f").volumeControl),It(this,Tt,document.createElement("progress"),"f"),Nt(this,Tt,"f").className="op-controls__volume--display",Nt(this,Tt,"f").setAttribute("max","10"),Nt(this,Tt,"f").setAttribute("role","presentation"),Nt(this,Tt,"f").value=10*Nt(this,Lt,"f").getMedia().volume,Nt(this,Mt,"f").appendChild(Nt(this,Ct,"f")),Nt(this,Mt,"f").appendChild(Nt(this,Tt,"f")),It(this,xt,document.createElement("button"),"f"),Nt(this,xt,"f").type="button",Nt(this,xt,"f").className="op-controls__mute op-control__".concat(Nt(this,jt,"f")),Nt(this,xt,"f").tabIndex=0,Nt(this,xt,"f").title=Nt(this,Pt,"f").mute,Nt(this,xt,"f").setAttribute("aria-controls",Nt(this,Lt,"f").id),Nt(this,xt,"f").setAttribute("aria-pressed","false"),Nt(this,xt,"f").setAttribute("aria-label",Nt(this,Pt,"f").mute),Nt(this,xt,"f").innerHTML='<span class="op-sr">'.concat(Nt(this,Pt,"f").mute,"</span>");var t=function(t){var n=Nt(e,Lt,"f").activeElement(),i=parseFloat(t.target.value);n.volume=i,n.muted=0===n.volume,It(e,St,i,"f");var r=Nt(e,Lt,"f").getContainer().querySelector(".op-player__unmute");!n.muted&&r&&x(r);var s=_("volumechange");Nt(e,Lt,"f").getElement().dispatchEvent(s)};if(Nt(this,Ot,"f").media.volumechange=function(){var t,n,i,r=Nt(e,Lt,"f").activeElement();n=1*(t=r).volume,i=Math.floor(100*n),Nt(e,Ct,"f").value="".concat(t.volume),Nt(e,Tt,"f").value=10*n,Nt(e,Mt,"f").setAttribute("aria-valuenow","".concat(i)),Nt(e,Mt,"f").setAttribute("aria-valuetext","".concat(Nt(e,Pt,"f").volume,": ").concat(i)),function(t){var n=t.volume;n<=.5&&n>0?(Nt(e,xt,"f").classList.remove("op-controls__mute--muted"),Nt(e,xt,"f").classList.add("op-controls__mute--half")):0===n?(Nt(e,xt,"f").classList.add("op-controls__mute--muted"),Nt(e,xt,"f").classList.remove("op-controls__mute--half")):(Nt(e,xt,"f").classList.remove("op-controls__mute--muted"),Nt(e,xt,"f").classList.remove("op-controls__mute--half"))}(r)},Nt(this,Ot,"f").media.timeupdate=function(){L(Nt(e,Lt,"f").getElement())&&(Nt(e,Lt,"f").activeElement().duration===1/0||Nt(e,Lt,"f").getElement().getAttribute("op-live__enabled"))},Nt(this,Ot,"f").media.loadedmetadata=function(){var t=Nt(e,Lt,"f").activeElement();t.muted&&(t.volume=0);var n=_("volumechange");Nt(e,Lt,"f").getElement().dispatchEvent(n)},Nt(this,Ot,"f").slider.input=t.bind(this),Nt(this,Ot,"f").slider.change=t.bind(this),Nt(this,Ot,"f").button.click=function(){Nt(e,xt,"f").setAttribute("aria-pressed","true");var t=Nt(e,Lt,"f").activeElement();t.muted=!t.muted,t.muted?(t.volume=0,Nt(e,xt,"f").title=Nt(e,Pt,"f").unmute,Nt(e,xt,"f").setAttribute("aria-label",Nt(e,Pt,"f").unmute)):(t.volume=Nt(e,St,"f"),Nt(e,xt,"f").title=Nt(e,Pt,"f").mute,Nt(e,xt,"f").setAttribute("aria-label",Nt(e,Pt,"f").mute));var n=_("volumechange");Nt(e,Lt,"f").getElement().dispatchEvent(n)},Nt(this,xt,"f").addEventListener("click",Nt(this,Ot,"f").button.click,k),Object.keys(Nt(this,Ot,"f").media).forEach((function(t){Nt(e,Lt,"f").getElement().addEventListener(t,Nt(e,Ot,"f").media[t],k)})),Object.keys(Nt(this,Ot,"f").slider).forEach((function(t){Nt(e,Ct,"f").addEventListener(t,Nt(e,Ot,"f").slider[t],k)})),Nt(this,Lt,"f").getContainer().addEventListener("keydown",this._keydownEvent,k),!y&&!m){var n=Nt(this,Lt,"f").getControls().getLayer(Nt(this,Rt,"f"));n.appendChild(Nt(this,xt,"f")),n.appendChild(Nt(this,Mt,"f"))}}},{key:"destroy",value:function(){var e=this;Nt(this,xt,"f").removeEventListener("click",Nt(this,Ot,"f").button.click),Object.keys(Nt(this,Ot,"f").media).forEach((function(t){Nt(e,Lt,"f").getElement().removeEventListener(t,Nt(e,Ot,"f").media[t])})),Object.keys(Nt(this,Ot,"f").slider).forEach((function(t){Nt(e,Ct,"f").removeEventListener(t,Nt(e,Ot,"f").slider[t])})),Nt(this,Lt,"f").getContainer().removeEventListener("keydown",this._keydownEvent),x(Nt(this,Ct,"f")),x(Nt(this,Tt,"f")),x(Nt(this,Mt,"f"))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0,i=Nt(this,Lt,"f").activeElement();!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__mute"))||13!==n&&32!==n||(i.muted=!i.muted,i.volume=i.muted?0:Nt(this,St,"f"),Nt(this,Ot,"f").button.click(),e.preventDefault(),e.stopPropagation())}}]),e}();Lt=new WeakMap,xt=new WeakMap,Mt=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,Ot=new WeakMap,St=new WeakMap,Pt=new WeakMap,jt=new WeakMap,Rt=new WeakMap;var Ft,Bt,qt,Ht,zt,Vt,Ut=Dt,Gt=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Kt=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Xt=function(){function e(t){return a()(this,e),this.events={media:{},mouse:{}},Ft.set(this,void 0),Bt.set(this,0),qt.set(this,void 0),Ht.set(this,void 0),zt.set(this,void 0),Vt.set(this,{Captions:ae,Fullscreen:ue,Levels:Re,Play:$e,Progress:ft,Settings:Et,Time:Wt,Volume:Ut}),Gt(this,Ht,t,"f"),this._setElements(),this}return f()(e,[{key:"create",value:function(){var e=this;Kt(this,Ht,"f").getElement().controls=!1;var t=A(Kt(this,Ht,"f").getElement());if(this._createControlsLayer(),this._buildElements(),this.events.controlschanged=function(){e.destroy(),e._setElements(),e.create()},this.events.ended=function(){Kt(e,Ht,"f").getContainer().classList.remove("op-controls--hidden")},Kt(this,Ht,"f").getElement().addEventListener("controlschanged",this.events.controlschanged,k),Kt(this,Ht,"f").getElement().addEventListener("ended",this.events.ended,k),!Kt(this,Ht,"f").getOptions().controls.alwaysVisible){var n=function(){t&&(Kt(e,Ht,"f").getContainer().classList.remove("op-controls--hidden"),e._stopControlTimer())};this.events.mouse.mouseenter=function(){t&&!Kt(e,Ht,"f").activeElement().paused&&(e._stopControlTimer(),Kt(e,Ht,"f").activeElement().currentTime?(Kt(e,Ht,"f").playBtn.setAttribute("aria-hidden",Kt(e,Ht,"f").isMedia()?"false":"true"),Kt(e,Ht,"f").loader.setAttribute("aria-hidden","true")):Kt(e,Ht,"f").getOptions().showLoaderOnInit&&(Kt(e,Ht,"f").playBtn.setAttribute("aria-hidden","true"),Kt(e,Ht,"f").loader.setAttribute("aria-hidden","false")),Kt(e,Ht,"f").getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mousemove=function(){t&&!Kt(e,Ht,"f").activeElement().paused&&(Kt(e,Ht,"f").activeElement().currentTime?(Kt(e,Ht,"f").loader.setAttribute("aria-hidden","true"),Kt(e,Ht,"f").playBtn.setAttribute("aria-hidden",Kt(e,Ht,"f").isMedia()?"false":"true")):(Kt(e,Ht,"f").playBtn.setAttribute("aria-hidden",Kt(e,Ht,"f").getOptions().showLoaderOnInit?"true":"false"),Kt(e,Ht,"f").loader.setAttribute("aria-hidden",Kt(e,Ht,"f").getOptions().showLoaderOnInit?"false":"true")),Kt(e,Ht,"f").getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mouseleave=function(){t&&!Kt(e,Ht,"f").activeElement().paused&&e._startControlTimer(1e3)},this.events.media.play=function(){t&&e._startControlTimer(Kt(e,Ht,"f").getOptions().hidePlayBtnTimer)},this.events.media.loadedmetadata=n.bind(this),this.events.media.pause=n.bind(this),this.events.media.waiting=n.bind(this),this.events.media.stalled=n.bind(this),this.events.media.playererror=n.bind(this),Object.keys(this.events.media).forEach((function(t){Kt(e,Ht,"f").getElement().addEventListener(t,e.events.media[t],k)})),y||m?Kt(this,Ht,"f").getContainer().addEventListener("click",this.events.mouse.mouseenter,k):Object.keys(this.events.mouse).forEach((function(t){Kt(e,Ht,"f").getContainer().addEventListener(t,e.events.mouse[t],k)})),t&&!Kt(this,Ht,"f").activeElement().paused&&this._startControlTimer(3e3)}}},{key:"destroy",value:function(){var e=this;y||m||(Object.keys(this.events.mouse).forEach((function(t){Kt(e,Ht,"f").getContainer().removeEventListener(t,e.events.mouse[t])})),Object.keys(this.events.media).forEach((function(t){Kt(e,Ht,"f").getElement().removeEventListener(t,e.events.media[t])})),this._stopControlTimer()),Kt(this,Ht,"f").getElement().removeEventListener("controlschanged",this.events.controlschanged),Kt(this,Ht,"f").getElement().removeEventListener("ended",this.events.ended),Object.keys(Kt(this,zt,"f")).forEach((function(t){Kt(e,zt,"f")[t].forEach((function(t){t.custom?e._destroyCustomControl(t):"function"==typeof t.destroy&&t.destroy()}))})),x(Kt(this,qt,"f"))}},{key:"getContainer",value:function(){return Kt(this,qt,"f")}},{key:"getLayer",value:function(e){return Kt(this,qt,"f").querySelector(".op-controls-layer__".concat(e))||Kt(this,qt,"f")}},{key:"_createControlsLayer",value:function(){if(!Kt(this,qt,"f")||!Kt(this,Ht,"f").getContainer().querySelector(".op-controls")){Gt(this,qt,document.createElement("div"),"f"),Kt(this,qt,"f").className="op-controls",Kt(this,Ht,"f").getContainer().appendChild(Kt(this,qt,"f"));var e=document.createElement("div");e.className="op-status",e.innerHTML="<span></span>",e.tabIndex=-1,e.setAttribute("aria-hidden","true"),L(Kt(this,Ht,"f").getElement())&&Kt(this,qt,"f").appendChild(e)}}},{key:"_startControlTimer",value:function(e){var t=this,n=Kt(this,Ht,"f").activeElement();this._stopControlTimer(),"undefined"!=typeof window&&Gt(this,Bt,window.setTimeout((function(){if((!n.paused||!n.ended)&&A(Kt(t,Ht,"f").getElement())){Kt(t,Ht,"f").getContainer().classList.add("op-controls--hidden"),Kt(t,Ht,"f").playBtn.setAttribute("aria-hidden","true"),t._stopControlTimer();var e=_("controlshidden");Kt(t,Ht,"f").getElement().dispatchEvent(e)}}),e),"f")}},{key:"_stopControlTimer",value:function(){0!==Kt(this,Bt,"f")&&(clearTimeout(Kt(this,Bt,"f")),Gt(this,Bt,0,"f"))}},{key:"_setElements",value:function(){var e=this,t=Kt(this,Ht,"f").getOptions().controls.layers;Gt(this,zt,{"bottom-left":[],"bottom-middle":[],"bottom-right":[],left:[],main:[],middle:[],right:[],"top-left":[],"top-middle":[],"top-right":[]},"f");var n=A(Kt(this,Ht,"f").getElement()),i=L(Kt(this,Ht,"f").getElement()),r=Object.keys(t),s=r.find((function(e){return/^(top|bottom)/.test(e)}));this._createControlsLayer(),r.forEach((function(r){var a=r.split("-"),o=d()(a,2),f=o[0],c=o[1];if(c){Kt(e,qt,"f").classList.contains("op-controls__stacked")||Kt(e,qt,"f").classList.add("op-controls__stacked");var u="op-controls-layer__".concat(f);if(!Kt(e,qt,"f").querySelector(".".concat(u))){var l=document.createElement("div");l.className=u,Kt(e,qt,"f").appendChild(l)}}else if(s){if(!Kt(e,qt,"f").querySelector(".".concat("op-controls-layer__center"))){var h=document.createElement("div");h.className="op-controls-layer__center",Kt(e,qt,"f").appendChild(h)}}t[r].filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(t){var a=s&&!c?"center":f,o="".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),u=new(Kt(e,Vt,"f")[o])(Kt(e,Ht,"f"),c||f,a);"settings"===t&&Gt(e,Ft,u,"f"),(n||"fullscreen"!==t&&i)&&Kt(e,zt,"f")[r].push(u)}))})),Kt(this,Ht,"f").getCustomControls().forEach((function(t){var n=t.position.split("-"),i=d()(n,2),r=i[0],a=i[1],o=s&&!a?"center":r;t.layer=o,t.position=a||r,"right"===t.position?Kt(e,zt,"f")[t.position].unshift(t):Kt(e,zt,"f")[t.position].push(t)}))}},{key:"_buildElements",value:function(){var e=this;Object.keys(Kt(this,zt,"f")).forEach((function(t){Kt(e,zt,"f")[t].forEach((function(t){t.custom?e._createCustomControl(t):t.create()}))})),Object.keys(Kt(this,zt,"f")).forEach((function(t){Kt(e,zt,"f")[t].forEach((function(t){if((!Kt(e,Ht,"f").getOptions().detachMenus||t instanceof Et)&&!t.custom&&"function"==typeof t.addSettings){var n=t.addSettings();Kt(e,Ft,"f")&&Object.keys(n).length&&Kt(e,Ft,"f").addItem(n.name,n.key,n.default,n.subitems,n.className)}}))}));var t=_("controlschanged");Kt(this,qt,"f").dispatchEvent(t)}},{key:"_hideCustomMenu",value:function(e){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){e.setAttribute("aria-hidden","true")})))}},{key:"_toggleCustomMenu",value:function(e,t,n){Kt(this,Ht,"f").getContainer().querySelectorAll(".op-settings").forEach((function(e){"false"===e.getAttribute("aria-hidden")&&e.id!==t.id&&e.setAttribute("aria-hidden","true")})),t.setAttribute("aria-hidden","true"===t.getAttribute("aria-hidden")?"false":"true"),"function"==typeof n.click&&n.click(e)}},{key:"_createCustomControl",value:function(e){var t=this,n=document.createElement("button"),i=/\.(jpg|png|svg|gif)$/.test(e.icon)?'<img src="'.concat(e.icon,'">'):e.icon;if(n.className="op-controls__".concat(e.id," op-control__").concat(e.position," ").concat(e.showInAds?"":"op-control__hide-in-ad"),n.tabIndex=0,n.id=e.id,n.title=e.title,n.innerHTML=e.content||"".concat(i,' <span class="op-sr">').concat(e.title,"</span>"),e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=document.createElement("div");r.className="op-settings op-settings__custom",r.id="".concat(e.id,"-menu"),r.setAttribute("aria-hidden","true");var s=e.subitems.map((function(t){var n="";return t.icon&&(n=/\.(jpg|png|svg|gif)$/.test(t.icon)?'<img src="'.concat(t.icon,'">'):t.icon),'<div class="op-settings__menu-item" tabindex="0" '.concat(t.title?'title="'.concat(t.title,'"'):"",' role="menuitemradio">\n                    <div class="op-settings__menu-label" id="').concat(t.id,'" data-value="').concat(e.id,"-").concat(t.id,'">').concat(n," ").concat(t.label,"</div>\n                </div>")}));r.innerHTML='<div class="op-settings__menu" role="menu">'.concat(s.join(""),"</div>"),Kt(this,Ht,"f").getContainer().appendChild(r),e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.addEventListener("click",e.click,k)})),n.addEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)}),k),Kt(this,Ht,"f").getElement().addEventListener("controlshidden",(function(){return t._hideCustomMenu(r)}),k)}else e.click&&"function"==typeof e.click&&n.addEventListener("click",e.click,k);e.mouseenter&&"function"==typeof e.mouseenter&&n.addEventListener("mouseenter",e.mouseenter,k),e.mouseleave&&"function"==typeof e.mouseleave&&n.addEventListener("mouseenter",e.mouseleave,k),e.keydown&&"function"==typeof e.keydown&&n.addEventListener("keydown",e.keydown,k),e.blur&&"function"==typeof e.blur&&n.addEventListener("blur",e.blur,k),e.focus&&"function"==typeof e.focus&&n.addEventListener("focus",e.focus,k),e.layer&&("main"===e.layer?Kt(this,Ht,"f").getContainer().appendChild(n):this.getLayer(e.layer).appendChild(n)),e.init&&"function"==typeof e.init&&e.init(Kt(this,Ht,"f"))}},{key:"_destroyCustomControl",value:function(e){var t=this,n=e.title.toLowerCase().replace(" ","-"),i=this.getContainer().querySelector(".op-controls__".concat(n));if(i){if(e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=Kt(this,Ht,"f").getContainer().querySelector("#".concat(e.id,"-menu"));r&&(e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.removeEventListener("click",e.click)})),i.removeEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)})),Kt(this,Ht,"f").getElement().removeEventListener("controlshidden",(function(){return t._hideCustomMenu(r)})),x(r))}e.click&&"function"==typeof e.click&&i.removeEventListener("click",e.click),e.mouseenter&&"function"==typeof e.mouseenter&&i.removeEventListener("mouseenter",e.mouseenter),e.mouseleave&&"function"==typeof e.mouseleave&&i.removeEventListener("mouseenter",e.mouseleave),e.keydown&&"function"==typeof e.keydown&&i.removeEventListener("keydown",e.keydown),e.blur&&"function"==typeof e.blur&&i.removeEventListener("blur",e.blur),e.focus&&"function"==typeof e.focus&&i.removeEventListener("focus",e.focus),x(i),e.destroy&&"function"==typeof e.destroy&&e.destroy(Kt(this,Ht,"f"))}}}]),e}();Ft=new WeakMap,Bt=new WeakMap,qt=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Vt=new WeakMap;var $t,Qt=Xt,Yt=n(0),Jt=n.n(Yt),Zt=n(19),en=n.n(Zt),tn=n(10),nn=n.n(tn),rn=n(11),sn=n.n(rn),an=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},on=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},fn=function(){function e(t,n){a()(this,e),$t.set(this,void 0),this.element=t,this.media=n,this.promise=new Promise((function(e){e({})}))}return f()(e,[{key:"instance",get:function(){return on(this,$t,"f")},set:function(e){an(this,$t,e,"f")}},{key:"play",value:function(){return this.element.play()}},{key:"pause",value:function(){this.element.pause()}},{key:"volume",get:function(){return this.element.volume},set:function(e){this.element.volume=e}},{key:"muted",get:function(){return this.element.muted},set:function(e){this.element.muted=e}},{key:"playbackRate",get:function(){return this.element.playbackRate},set:function(e){this.element.playbackRate=e}},{key:"defaultPlaybackRate",get:function(){return this.element.defaultPlaybackRate},set:function(e){this.element.defaultPlaybackRate=e}},{key:"currentTime",get:function(){return this.element.currentTime},set:function(e){this.element.currentTime=e}},{key:"duration",get:function(){return this.element.duration}},{key:"paused",get:function(){return this.element.paused}},{key:"ended",get:function(){return this.element.ended}}]),e}();$t=new WeakMap;var cn=fn;function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sn()(e);if(t){var r=sn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nn()(this,n)}}var ln,dn,hn,pn=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},vn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},mn=function(e){en()(n,e);var t=un(n);function n(e,i,r){var s;return a()(this,n),s=t.call(this,e,i),ln.set(Jt()(s),void 0),dn.set(Jt()(s),{}),hn.set(Jt()(s),{}),pn(Jt()(s),hn,r,"f"),s.promise="undefined"==typeof dashjs?M("https://cdn.dashjs.org/latest/dash.all.min.js"):new Promise((function(e){e({})})),s._assign=s._assign.bind(Jt()(s)),s.promise.then((function(){pn(Jt()(s),ln,dashjs.MediaPlayer().create(),"f"),s.instance=vn(Jt()(s),ln,"f")})),nn()(s,Jt()(s))}return f()(n,[{key:"canPlayType",value:function(e){return E&&"application/dash+xml"===e}},{key:"load",value:function(){var e=this;this._preparePlayer(),vn(this,ln,"f").attachSource(this.media.src);var t=_("loadedmetadata");this.element.dispatchEvent(t),vn(this,dn,"f")||(pn(this,dn,dashjs.MediaPlayer.events,"f"),Object.keys(vn(this,dn,"f")).forEach((function(t){vn(e,ln,"f").on(vn(e,dn,"f")[t],e._assign)})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){var t=this;de(e)&&(this._revoke(),pn(this,ln,dashjs.MediaPlayer().create(),"f"),this._preparePlayer(),vn(this,ln,"f").attachSource(e.src),pn(this,dn,dashjs.MediaPlayer.events,"f"),Object.keys(vn(this,dn,"f")).forEach((function(e){vn(t,ln,"f").on(vn(t,dn,"f")[e],t._assign)})))}},{key:"levels",get:function(){var e=[];if(vn(this,ln,"f")){var t=vn(this,ln,"f").getBitrateInfoListFor("video");t.length&&t.forEach((function(n){if(t[n]){var i=t[n],r=i.height,s=i.name,a={height:r,id:"".concat(n),label:s||null};e.push(a)}}))}return e}},{key:"level",get:function(){return vn(this,ln,"f")?vn(this,ln,"f").getQualityFor("video"):-1},set:function(e){0===e?vn(this,ln,"f").setAutoSwitchQuality(!0):(vn(this,ln,"f").setAutoSwitchQuality(!1),vn(this,ln,"f").setQualityFor("video",e))}},{key:"_assign",value:function(e){if("error"===e.type){var t=_("playererror",{detail:{message:e,type:"M(PEG)-DASH"}});this.element.dispatchEvent(t)}else{var n=_(e.type,{detail:e});this.element.dispatchEvent(n)}}},{key:"_revoke",value:function(){var e=this;vn(this,dn,"f")&&(Object.keys(vn(this,dn,"f")).forEach((function(t){vn(e,ln,"f").off(vn(e,dn,"f")[t],e._assign)})),pn(this,dn,[],"f")),vn(this,ln,"f").reset()}},{key:"_preparePlayer",value:function(){void 0===vn(this,ln,"f").getDebug().setLogToBrowserConsole?vn(this,ln,"f").updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE},streaming:{fastSwitchEnabled:!0,scheduleWhilePaused:!1}}):(vn(this,ln,"f").getDebug().setLogToBrowserConsole(!1),vn(this,ln,"f").setScheduleWhilePaused(!1),vn(this,ln,"f").setFastSwitchEnabled(!0)),vn(this,ln,"f").initialize(),vn(this,ln,"f").attachView(this.element),vn(this,ln,"f").setAutoPlay(!1),vn(this,hn,"f")&&"object"===r()(vn(this,hn,"f").drm)&&Object.keys(vn(this,hn,"f").drm).length&&(vn(this,ln,"f").setProtectionData(vn(this,hn,"f").drm),vn(this,hn,"f").robustnessLevel&&vn(this,hn,"f").robustnessLevel&&vn(this,ln,"f").getProtectionController().setRobustnessLevel(vn(this,hn,"f").robustnessLevel))}}]),n}(cn);ln=new WeakMap,dn=new WeakMap,hn=new WeakMap;var yn=mn;function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sn()(e);if(t){var r=sn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nn()(this,n)}}var bn,wn,En,kn=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},_n=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},An=function(e){en()(n,e);var t=gn(n);function n(e,i,r){var s;return a()(this,n),s=t.call(this,e,i),bn.set(Jt()(s),void 0),wn.set(Jt()(s),{}),En.set(Jt()(s),void 0),kn(Jt()(s),En,r,"f"),s.element=e,s.media=i,s.promise="undefined"==typeof flvjs?M("https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js"):new Promise((function(e){e({})})),s._create=s._create.bind(Jt()(s)),s.promise.then(s._create),nn()(s,Jt()(s))}return f()(n,[{key:"canPlayType",value:function(e){return E&&("video/x-flv"===e||"video/flv"===e)}},{key:"load",value:function(){var e=this;_n(this,bn,"f").unload(),_n(this,bn,"f").detachMediaElement(),_n(this,bn,"f").attachMediaElement(this.element),_n(this,bn,"f").load();var t=_("loadedmetadata");this.element.dispatchEvent(t),_n(this,wn,"f")||(kn(this,wn,flvjs.Events,"f"),Object.keys(_n(this,wn,"f")).forEach((function(t){_n(e,bn,"f").on(_n(e,wn,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(_n(e,wn,"f")[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){he(e)&&(this._revoke(),this._create())}},{key:"levels",get:function(){var e=this,t=[];return _n(this,bn,"f")&&_n(this,bn,"f").levels&&_n(this,bn,"f").levels.length&&Object.keys(_n(this,bn,"f").levels).forEach((function(n){var i=_n(e,bn,"f").levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",get:function(){return _n(this,bn,"f")?_n(this,bn,"f").currentLevel:-1},set:function(e){_n(this,bn,"f").currentLevel=e}},{key:"_create",value:function(){var e,t,n,i,r=this,s=null===(e=_n(this,En,"f"))||void 0===e?void 0:e.configs;null===(t=_n(this,En,"f"))||void 0===t||delete t.configs,flvjs.LoggingControl.enableDebug=(null===(n=_n(this,En,"f"))||void 0===n?void 0:n.debug)||!1,flvjs.LoggingControl.enableVerbose=(null===(i=_n(this,En,"f"))||void 0===i?void 0:i.debug)||!1;var a=Object.assign(Object.assign({},_n(this,En,"f")||{}),{type:"flv",url:this.media.src});kn(this,bn,flvjs.createPlayer(a,s),"f"),this.instance=_n(this,bn,"f"),_n(this,wn,"f")||(kn(this,wn,flvjs.Events,"f"),Object.keys(_n(this,wn,"f")).forEach((function(e){_n(r,bn,"f").on(_n(r,wn,"f")[e],(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r._assign(_n(r,wn,"f")[e],n)}))})))}},{key:"_assign",value:function(e,t){if("error"===e){var n=_("playererror",{detail:{data:t,message:"".concat(t[0],": ").concat(t[1]," ").concat(t[2].msg),type:"FLV"}});this.element.dispatchEvent(n)}else{var i=_(e,{detail:{data:t}});this.element.dispatchEvent(i)}}},{key:"_revoke",value:function(){_n(this,bn,"f").destroy(),kn(this,bn,null,"f")}}]),n}(cn);bn=new WeakMap,wn=new WeakMap,En=new WeakMap;var Ln=An;function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sn()(e);if(t){var r=sn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nn()(this,n)}}var Mn,Tn,Cn,On,Sn,Pn,jn=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Rn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Wn=function(e){en()(n,e);var t=xn(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return a()(this,n),r=t.call(this,e,i),Mn.set(Jt()(r),void 0),Tn.set(Jt()(r),{}),Cn.set(Jt()(r),0),On.set(Jt()(r),0),Sn.set(Jt()(r),void 0),Pn.set(Jt()(r),void 0),jn(Jt()(r),Sn,o||{},"f"),r.element=e,r.media=i,jn(Jt()(r),Pn,s,"f"),r.promise="undefined"==typeof Hls?M("https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"):new Promise((function(e){e({})})),r._create=r._create.bind(Jt()(r)),r._revoke=r._revoke.bind(Jt()(r)),r._play=r._play.bind(Jt()(r)),r._pause=r._pause.bind(Jt()(r)),r.promise.then(r._create),nn()(r,Jt()(r))}return f()(n,[{key:"canPlayType",value:function(e){return function(){if("undefined"==typeof window)return!1;var e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!i&&!w}()&&"application/x-mpegURL"===e}},{key:"load",value:function(){var e=this;Rn(this,Mn,"f")&&(Rn(this,Mn,"f").detachMedia(),Rn(this,Mn,"f").loadSource(this.media.src),Rn(this,Mn,"f").attachMedia(this.element));var t=_("loadedmetadata");this.element.dispatchEvent(t),Rn(this,Tn,"f")||(jn(this,Tn,Hls.Events,"f"),Object.keys(Rn(this,Tn,"f")).forEach((function(t){Rn(e,Mn,"f").on(Rn(e,Tn,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(Rn(e,Tn,"f")[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"src",set:function(e){var t=this;le(e)&&(this._revoke(),jn(this,Mn,new Hls(Rn(this,Sn,"f")),"f"),Rn(this,Mn,"f").loadSource(e.src),Rn(this,Mn,"f").attachMedia(this.element),jn(this,Tn,Hls.Events,"f"),Object.keys(Rn(this,Tn,"f")).forEach((function(e){Rn(t,Mn,"f").on(Rn(t,Tn,"f")[e],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t._assign(Rn(t,Tn,"f")[e],i)}))})))}},{key:"levels",get:function(){var e=this,t=[];return Rn(this,Mn,"f")&&Rn(this,Mn,"f").levels&&Rn(this,Mn,"f").levels.length&&Object.keys(Rn(this,Mn,"f").levels).forEach((function(n){var i=Rn(e,Mn,"f").levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",get:function(){return Rn(this,Mn,"f")?Rn(this,Mn,"f").currentLevel:-1},set:function(e){Rn(this,Mn,"f").currentLevel=e}},{key:"_create",value:function(){var e=this,t=!("auto"!==this.element.preload&&!Rn(this,Pn,"f"));Rn(this,Sn,"f").autoStartLoad=t,jn(this,Mn,new Hls(Rn(this,Sn,"f")),"f"),this.instance=Rn(this,Mn,"f"),jn(this,Tn,Hls.Events,"f"),Object.keys(Rn(this,Tn,"f")).forEach((function(t){Rn(e,Mn,"f").on(Rn(e,Tn,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(Rn(e,Tn,"f")[t],i)}))})),t||(this.element.addEventListener("play",this._play,k),this.element.addEventListener("pause",this._pause,k))}},{key:"_assign",value:function(e,t){if("hlsError"===e){var n=_("playererror",{detail:{data:t,message:t[1].details,type:"HLS"}});this.element.dispatchEvent(n);var i=t[1].type,r=t[1].fatal,s=t[1];if(r)switch(i){case"mediaError":var a=(new Date).getTime();if(!Rn(this,Cn,"f")||a-Rn(this,Cn,"f")>3e3)jn(this,Cn,(new Date).getTime(),"f"),Rn(this,Mn,"f").recoverMediaError();else if(!Rn(this,On,"f")||a-Rn(this,On,"f")>3e3)jn(this,On,(new Date).getTime(),"f"),console.warn("Attempting to swap Audio Codec and recover from media error"),Rn(this,Mn,"f").swapAudioCodec(),Rn(this,Mn,"f").recoverMediaError();else{console.error("Cannot recover, last media error recovery failed");var o=_(i,{detail:{data:s}});this.element.dispatchEvent(o)}break;case"networkError":console.error("Network error");var f=_(i,{detail:{data:s}});this.element.dispatchEvent(f);break;default:Rn(this,Mn,"f").destroy();var c=_(i,{detail:{data:s}});this.element.dispatchEvent(c)}else{var u=_(i,{detail:{data:s}});this.element.dispatchEvent(u)}}else{var l=t[1];if("hlsLevelLoaded"===e&&!0===l.live){this.element.setAttribute("op-live__enabled","true");var d=_("timeupdate");this.element.dispatchEvent(d)}else if("hlsLevelUpdated"===e&&!0===l.live&&l.totalduration>120){this.element.setAttribute("op-dvr__enabled","true");var h=_("timeupdate");this.element.dispatchEvent(h)}else if("hlsFragParsingMetadata"===e){var p=_("metadataready",{detail:{data:t[1]}});this.element.dispatchEvent(p)}var v=_(e,{detail:{data:t[1]}});this.element.dispatchEvent(v)}}},{key:"_revoke",value:function(){var e=this;Rn(this,Mn,"f")&&Rn(this,Mn,"f").stopLoad(),Rn(this,Tn,"f")&&Object.keys(Rn(this,Tn,"f")).forEach((function(t){Rn(e,Mn,"f").off(Rn(e,Tn,"f")[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(Rn(e,Tn,"f")[t],i)}))})),this.element.removeEventListener("play",this._play),this.element.removeEventListener("pause",this._pause),Rn(this,Mn,"f")&&(Rn(this,Mn,"f").destroy(),jn(this,Mn,null,"f"))}},{key:"_play",value:function(){Rn(this,Mn,"f")&&Rn(this,Mn,"f").startLoad()}},{key:"_pause",value:function(){Rn(this,Mn,"f")&&Rn(this,Mn,"f").stopLoad()}}]),n}(cn);Mn=new WeakMap,Tn=new WeakMap,Cn=new WeakMap,On=new WeakMap,Sn=new WeakMap,Pn=new WeakMap;var In=Wn;function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sn()(e);if(t){var r=sn()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nn()(this,n)}}var Dn,Fn,Bn,qn,Hn,zn,Vn=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Un=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Gn=function(e){en()(n,e);var t=Nn(n);function n(e,i){var r;if(a()(this,n),r=t.call(this,e,i),Dn.set(Jt()(r),void 0),Fn.set(Jt()(r),[]),Bn.set(Jt()(r),!1),qn.set(Jt()(r),0),Hn.set(Jt()(r),!1),zn.set(Jt()(r),void 0),!L(e)&&!A(e))throw new TypeError("Native method only supports video/audio tags");return r._clearTimeout=r._clearTimeout.bind(Jt()(r)),r._setTimeout=r._setTimeout.bind(Jt()(r)),r._dispatchError=r._dispatchError.bind(Jt()(r)),r._isDvrEnabled=r._isDvrEnabled.bind(Jt()(r)),r._readMediadataInfo=r._readMediadataInfo.bind(Jt()(r)),Vn(Jt()(r),Bn,le(i),"f"),r.element.addEventListener("playing",r._clearTimeout,k),r.element.addEventListener("stalled",r._setTimeout,k),r.element.addEventListener("error",r._dispatchError,k),r.element.addEventListener("loadeddata",r._isDvrEnabled,k),r.element.textTracks.addEventListener("addtrack",r._readMediadataInfo,k),nn()(r,Jt()(r))}return f()(n,[{key:"canPlayType",value:function(e){return!!this.element.canPlayType(e).replace("no","")}},{key:"load",value:function(){this.element.load()}},{key:"destroy",value:function(){return this.element.removeEventListener("playing",this._clearTimeout),this.element.removeEventListener("stalled",this._setTimeout),this.element.removeEventListener("error",this._dispatchError),this.element.removeEventListener("loadeddata",this._isDvrEnabled),this.element.textTracks.removeEventListener("addtrack",this._readMediadataInfo),this}},{key:"levels",get:function(){if(!Un(this,Fn,"f").length)for(var e=this.element.querySelectorAll("source[title]"),t=0,n=e.length;t<n;++t){var i={height:0,id:"".concat(t),label:e[t].getAttribute("title")||""};Un(this,Fn,"f").push(i)}return Un(this,Fn,"f")}},{key:"level",get:function(){var e;return(null===(e=Un(this,Dn,"f"))||void 0===e?void 0:e.id)||"-1"},set:function(e){var t=Un(this,Fn,"f").findIndex((function(t){return t.id===e}));if(t>-1){Vn(this,Dn,this.levels[t],"f");for(var n=this.element.querySelectorAll("source[title]"),i=0,r=n.length;i<r;++i){var s=n[i].getAttribute("src");s&&parseInt(Un(this,Dn,"f").id,10)===i&&(this.element.src=s)}}}},{key:"src",set:function(e){this.element.src=e.src}},{key:"_isDvrEnabled",value:function(){var e=this.element.seekable.end(this.element.seekable.length-1)-this.element.seekable.start(0);if(Un(this,Bn,"f")&&e>120&&!this.element.getAttribute("op-dvr__enabled")){this.element.setAttribute("op-dvr__enabled","true");var t=_("timeupdate");this.element.dispatchEvent(t)}}},{key:"_readMediadataInfo",value:function(e){var t,n=this,i=e;"metadata"===(null===(t=null==i?void 0:i.track)||void 0===t?void 0:t.kind)&&(i.track.mode="hidden",i.track.addEventListener("cuechange",(function(e){var t=e.target,i=t.activeCues?t.activeCues[0]:null;if(i){var r=_("metadataready",{detail:i});n.element.dispatchEvent(r)}}),k))}},{key:"_setTimeout",value:function(){var e=this;Un(this,Hn,"f")||void 0===window||(Vn(this,Hn,!0,"f"),Vn(this,zn,window.setInterval((function(){var t;if(Un(e,qn,"f")>=30){clearInterval(Un(e,zn,"f"));var n="Media download failed part-way due to a network error",i=_("playererror",{detail:{data:{message:n,error:2},message:n,type:"HTML5"}});e.element.dispatchEvent(i),Vn(e,qn,0,"f"),Vn(e,Hn,!1,"f")}else Vn(e,qn,(t=Un(e,qn,"f"),++t),"f")}),1e3),"f"))}},{key:"_clearTimeout",value:function(){Un(this,zn,"f")&&(clearInterval(Un(this,zn,"f")),Vn(this,qn,0,"f"),Vn(this,Hn,!1,"f"))}},{key:"_dispatchError",value:function(e){var t,n=e.target,i=null==n?void 0:n.error;switch(null==i?void 0:i.code){case null==i?void 0:i.MEDIA_ERR_ABORTED:t="Media playback aborted";break;case null==i?void 0:i.MEDIA_ERR_NETWORK:t="Media download failed part-way due to a network error";break;case null==i?void 0:i.MEDIA_ERR_DECODE:t="Media playback aborted due to a corruption problem or because the\n                    media used features your browser did not support.";break;case null==i?void 0:i.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Media could not be loaded, either because the server or network failed\n                    or because the format is not supported.";break;default:t="Unknown error occurred."}var r=_("playererror",{detail:{data:Object.assign(Object.assign({},e),{message:t,error:null==i?void 0:i.code}),message:t,type:"HTML5"}});this.element.dispatchEvent(r)}}]),n}(cn);Dn=new WeakMap,Fn=new WeakMap,Bn=new WeakMap,qn=new WeakMap,Hn=new WeakMap,zn=new WeakMap;var Kn,Xn,$n,Qn,Yn,Jn,Zn,ei,ti,ni=Gn,ii=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{f(i.next(e))}catch(e){s(e)}}function o(e){try{f(i.throw(e))}catch(e){s(e)}}function f(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}f((i=i.apply(e,t||[])).next())}))},ri=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},si=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},ai=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return a()(this,e),Kn.set(this,void 0),Xn.set(this,void 0),$n.set(this,void 0),Qn.set(this,void 0),Yn.set(this,void 0),Jn.set(this,void 0),Zn.set(this,!1),ei.set(this,{media:{},optionsKey:{},rules:[]}),ti.set(this,void 0),ri(this,Kn,t,"f"),ri(this,Yn,n,"f"),ri(this,$n,this._getMediaFiles(),"f"),ri(this,ei,r,"f"),ri(this,Jn,i,"f"),this}return f()(e,[{key:"canPlayType",value:function(e){return si(this,Xn,"f").canPlayType(e)}},{key:"load",value:function(){return ii(this,void 0,void 0,u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!si(this,Zn,"f")){e.next=2;break}return e.abrupt("return");case 2:if(ri(this,Zn,!0,"f"),si(this,$n,"f").length){e.next=5;break}throw new TypeError("Media not set");case 5:if(si(this,Xn,"f")&&"function"==typeof si(this,Xn,"f").destroy&&(1===si(this,$n,"f").length&&si(this,$n,"f")[0].src===si(this,Xn,"f").media.src||si(this,Xn,"f").destroy()),si(this,$n,"f").some((function(e){try{ri(t,Xn,t._invoke(e),"f")}catch(n){ri(t,Xn,new ni(si(t,Kn,"f"),e),"f")}return si(t,Xn,"f").canPlayType(e.type)})),e.prev=7,null!==si(this,Xn,"f")){e.next=10;break}throw new TypeError("Media cannot be played with any valid media type");case 10:return e.next=12,si(this,Xn,"f").promise;case 12:si(this,Xn,"f").load(),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(7),si(this,Xn,"f")&&si(this,Xn,"f").destroy(),e.t0;case 19:case"end":return e.stop()}}),e,this,[[7,15]])})))}},{key:"play",value:function(){return ii(this,void 0,void 0,u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(this,Zn,"f")){e.next=7;break}return ri(this,Zn,!0,"f"),e.next=4,this.load();case 4:ri(this,Zn,!1,"f"),e.next=9;break;case 7:return e.next=9,si(this,Xn,"f").promise;case 9:return ri(this,Qn,si(this,Xn,"f").play(),"f"),e.abrupt("return",si(this,Qn,"f"));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"pause",value:function(){return ii(this,void 0,void 0,u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===si(this,Qn,"f")){e.next=3;break}return e.next=3,si(this,Qn,"f");case 3:si(this,Xn,"f").pause();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){si(this,Xn,"f")&&si(this,Xn,"f").destroy()}},{key:"src",get:function(){return si(this,$n,"f")},set:function(e){"string"==typeof e?si(this,$n,"f").push({src:e,type:pe(e,si(this,Kn,"f"))}):Array.isArray(e)?ri(this,$n,e,"f"):"object"===r()(e)&&si(this,$n,"f").push(e),ri(this,$n,si(this,$n,"f").filter((function(e){return e.src})),"f"),si(this,$n,"f").length>0?(si(this,Kn,"f").src&&si(this,Kn,"f").setAttribute("data-op-file",si(this,$n,"f")[0].src),si(this,Kn,"f").src=si(this,$n,"f")[0].src,ri(this,ti,si(this,$n,"f")[0],"f"),si(this,Xn,"f")&&(si(this,Xn,"f").src=si(this,$n,"f")[0])):si(this,Kn,"f").src=""}},{key:"current",get:function(){return si(this,ti,"f")}},{key:"mediaFiles",get:function(){return si(this,$n,"f")},set:function(e){ri(this,$n,e,"f")}},{key:"volume",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").volume:si(this,Kn,"f").volume},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").volume=e)}},{key:"muted",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").muted:si(this,Kn,"f").muted},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").muted=e)}},{key:"playbackRate",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").playbackRate:si(this,Kn,"f").playbackRate},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").playbackRate=e)}},{key:"defaultPlaybackRate",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").defaultPlaybackRate:si(this,Kn,"f").defaultPlaybackRate},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").defaultPlaybackRate=e)}},{key:"currentTime",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").currentTime:si(this,Kn,"f").currentTime},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").currentTime=e)}},{key:"duration",get:function(){var e=si(this,Xn,"f")?si(this,Xn,"f").duration:si(this,Kn,"f").duration;return e===1/0&&si(this,Kn,"f").seekable&&si(this,Kn,"f").seekable.length?si(this,Kn,"f").seekable.end(0):e}},{key:"paused",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").paused:si(this,Kn,"f").paused}},{key:"ended",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").ended:si(this,Kn,"f").ended}},{key:"loaded",get:function(){return si(this,Zn,"f")},set:function(e){ri(this,Zn,e,"f")}},{key:"level",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").level:-1},set:function(e){si(this,Xn,"f")&&(si(this,Xn,"f").level=e)}},{key:"levels",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").levels:[]}},{key:"instance",get:function(){return si(this,Xn,"f")?si(this,Xn,"f").instance:null}},{key:"_getMediaFiles",value:function(){var e=[],t=si(this,Kn,"f").querySelectorAll("source"),n=si(this,Kn,"f").src;n&&e.push({src:n,type:si(this,Kn,"f").getAttribute("type")||pe(n,si(this,Kn,"f"))});for(var i=0,r=t.length;i<r;i++){var s=t[i],a=s.src;e.push({src:a,type:s.getAttribute("type")||pe(a,si(this,Kn,"f"))}),0===i&&ri(this,ti,e[0],"f")}return e.length||e.push({src:"",type:pe("",si(this,Kn,"f"))}),e}},{key:"_invoke",value:function(e){var t=this,n=si(this,Kn,"f").canPlayType("application/vnd.apple.mpegurl")||si(this,Kn,"f").canPlayType("application/x-mpegURL");ri(this,ti,e,"f");var i,r=!1;if(Object.keys(si(this,Yn,"f").controls.layers).forEach((function(e){si(t,Yn,"f").controls.layers[e].indexOf("levels")>-1&&(r=!0)})),Object.keys(si(this,ei,"f").media).length)return si(this,ei,"f").rules.forEach((function(n){var r=n(e.src);if(r){var s=si(t,ei,"f").media[r],a=si(t,Yn,"f")[si(t,ei,"f").optionsKey[r]]||void 0;i=s(si(t,Kn,"f"),e,si(t,Jn,"f"),a)}})),i?(i.create(),i):new ni(si(this,Kn,"f"),e);if(le(e)){if(n&&si(this,Yn,"f").forceNative&&!r)return new ni(si(this,Kn,"f"),e);var s=si(this,Yn,"f")&&si(this,Yn,"f").hls?si(this,Yn,"f").hls:void 0;return new In(si(this,Kn,"f"),e,si(this,Jn,"f"),s)}if(de(e)){var a=si(this,Yn,"f")&&si(this,Yn,"f").dash?si(this,Yn,"f").dash:void 0;return new yn(si(this,Kn,"f"),e,a)}if(he(e)){var o=si(this,Yn,"f")&&si(this,Yn,"f").flv?si(this,Yn,"f").flv:{debug:!1,type:"flv",url:e.src};return new Ln(si(this,Kn,"f"),e,o)}return new ni(si(this,Kn,"f"),e)}}]),e}();Kn=new WeakMap,Xn=new WeakMap,$n=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,ei=new WeakMap,ti=new WeakMap;var oi,fi,ci,ui,li,di,hi,pi,vi,mi,yi,gi,bi,wi,Ei,ki,_i,Ai,Li,xi,Mi,Ti,Ci,Oi,Si,Pi,ji,Ri,Wi,Ii,Ni,Di=ai,Fi=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{f(i.next(e))}catch(e){s(e)}}function o(e){try{f(i.throw(e))}catch(e){s(e)}}function f(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}f((i=i.apply(e,t||[])).next())}))},Bi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},qi=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Hi=function(){function e(t,n,i,r,s){var o=this;a()(this,e),oi.set(this,!1),fi.set(this,!1),ci.set(this,!1),ui.set(this,!1),li.set(this,0),di.set(this,void 0),hi.set(this,!1),pi.set(this,0),vi.set(this,0),mi.set(this,null),yi.set(this,void 0),gi.set(this,void 0),bi.set(this,void 0),wi.set(this,[]),Ei.set(this,void 0),ki.set(this,void 0),_i.set(this,void 0),Ai.set(this,void 0),Li.set(this,void 0),xi.set(this,void 0),Mi.set(this,void 0),Ti.set(this,!1),Ci.set(this,!1),Oi.set(this,!1),Si.set(this,void 0),Pi.set(this,0),ji.set(this,void 0),Ri.set(this,void 0),Wi.set(this,0),Ii.set(this,[]),Ni.set(this,!1),this.loadedAd=!1;var f={autoPlayAdBreaks:!0,customClick:{enabled:!1,label:"Click here for more info"},debug:!1,enablePreloading:!1,language:"en",loop:!1,numRedirects:4,publisherId:null,sdkPath:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",sessionId:null,src:[],vpaidMode:"enabled"};if(Bi(this,yi,t,"f"),Bi(this,Ei,n,"f"),Bi(this,gi,t.getMedia(),"f"),Bi(this,bi,t.getElement(),"f"),Bi(this,Ti,i||!1,"f"),Bi(this,hi,t.getElement().muted,"f"),Bi(this,Ci,r||!1,"f"),Bi(this,Si,Object.assign(Object.assign({},f),s),"f"),s){["customClick"].forEach((function(e){qi(o,Si,"f")[e]=s[e]&&Object.keys(s[e]).length?Object.assign(Object.assign({},f[e]),s[e]):f[e]}))}Bi(this,Oi,!1,"f"),Bi(this,ji,qi(this,bi,"f").volume,"f"),Bi(this,di,qi(this,ji,"f"),"f");var c=qi(this,Si,"f").debug&&qi(this,Si,"f").sdkPath?qi(this,Si,"f").sdkPath.replace(/(\.js$)/,"_debug.js"):qi(this,Si,"f").sdkPath;return this._handleClickInContainer=this._handleClickInContainer.bind(this),this.load=this.load.bind(this),this._loaded=this._loaded.bind(this),this._error=this._error.bind(this),this._assign=this._assign.bind(this),this._contentLoadedAction=this._contentLoadedAction.bind(this),this._loadedMetadataHandler=this._loadedMetadataHandler.bind(this),this._contentEndedListener=this._contentEndedListener.bind(this),this.resizeAds=this.resizeAds.bind(this),this._handleResizeAds=this._handleResizeAds.bind(this),this._onContentPauseRequested=this._onContentPauseRequested.bind(this),this._onContentResumeRequested=this._onContentResumeRequested.bind(this),Bi(this,ki,!c||"undefined"!=typeof google&&void 0!==google.ima?new Promise((function(e){e({})})):M(c),"f"),qi(this,ki,"f").then((function(){o.load()})).catch((function(e){var t="Ad script could not be loaded; please check if you have an AdBlock ";t+="turned on, or if you provided a valid URL is correct",console.error("Ad error: ".concat(t,"."));var n=_("playererror",{detail:{data:e,message:t,type:"Ads"}});qi(o,bi,"f").dispatchEvent(n)})),this}return f()(e,[{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("undefined"!=typeof google&&google.ima&&(e||!this.loadedAd||!qi(this,Si,"f").autoPlayAdBreaks)&&(qi(this,Si,"f").autoPlayAdBreaks||e)){this.loadedAd=!0;var t=qi(this,yi,"f").getContainer().querySelector(".op-ads");t&&t.parentNode&&t.parentNode.removeChild(t),Bi(this,ui,!0,"f"),Bi(this,Ai,document.createElement("div"),"f"),qi(this,Ai,"f").className="op-ads",qi(this,Ai,"f").tabIndex=-1,qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.insertBefore(qi(this,Ai,"f"),qi(this,bi,"f").nextSibling),qi(this,Ai,"f").addEventListener("click",this._handleClickInContainer),qi(this,Si,"f").customClick.enabled&&(Bi(this,Li,document.createElement("div"),"f"),qi(this,Li,"f").className="op-ads__click-container",qi(this,Li,"f").innerHTML='<div class="op-ads__click-label">'.concat(qi(this,Si,"f").customClick.label,"</div>"),qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.insertBefore(qi(this,Li,"f"),qi(this,bi,"f").nextSibling)),Bi(this,Ii,qi(this,gi,"f").src,"f");var n={disabled:google.ima.ImaSdkSettings.VpaidMode.DISABLED,enabled:google.ima.ImaSdkSettings.VpaidMode.ENABLED,insecure:google.ima.ImaSdkSettings.VpaidMode.INSECURE};google.ima.settings.setVpaidMode(n[qi(this,Si,"f").vpaidMode]),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),google.ima.settings.setAutoPlayAdBreaks(qi(this,Si,"f").autoPlayAdBreaks),google.ima.settings.setNumRedirects(qi(this,Si,"f").numRedirects),google.ima.settings.setLocale(qi(this,Si,"f").language),qi(this,Si,"f").sessionId&&google.ima.settings.setSessionId(qi(this,Si,"f").sessionId),qi(this,Si,"f").publisherId&&google.ima.settings.setPpid(qi(this,Si,"f").publisherId),google.ima.settings.setPlayerType("openplayerjs"),google.ima.settings.setPlayerVersion("2.9.3"),Bi(this,xi,new google.ima.AdDisplayContainer(qi(this,Ai,"f"),qi(this,bi,"f"),qi(this,Li,"f")),"f"),Bi(this,_i,new google.ima.AdsLoader(qi(this,xi,"f")),"f"),qi(this,_i,"f").addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded,k),qi(this,_i,"f").addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error,k),"undefined"!=typeof window&&window.addEventListener("resize",this._handleResizeAds,k),qi(this,bi,"f").addEventListener("loadedmetadata",this._handleResizeAds,k),!0!==qi(this,Ti,"f")&&!0!==qi(this,Ci,"f")&&!0!==e&&!0!==qi(this,Si,"f").enablePreloading&&!0!==qi(this,Oi,"f")||(qi(this,fi,"f")||(Bi(this,fi,!0,"f"),qi(this,xi,"f").initialize()),this._requestAds())}}},{key:"play",value:function(){return Fi(this,void 0,void 0,u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qi(this,fi,"f")){e.next=4;break}return Bi(this,Oi,!0,"f"),this._initNotDoneAds(),e.abrupt("return");case 4:if(qi(this,mi,"f"))try{qi(this,li,"f")||!1!==qi(this,ci,"f")?qi(this,mi,"f").resume():qi(this,mi,"f").start(),Bi(this,ci,!0,"f"),t=_("play"),qi(this,bi,"f").dispatchEvent(t)}catch(e){this._resumeMedia()}case 5:case"end":return e.stop()}}),e,this)})))}},{key:"pause",value:function(){if(qi(this,mi,"f")){Bi(this,ci,!1,"f"),qi(this,mi,"f").pause();var e=_("pause");qi(this,bi,"f").dispatchEvent(e)}}},{key:"destroy",value:function(){var e=this;qi(this,mi,"f")&&(qi(this,mi,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),qi(this,wi,"f")&&qi(this,wi,"f").forEach((function(t){qi(e,mi,"f").removeEventListener(t,e._assign)}))),Bi(this,wi,[],"f");var t=qi(this,yi,"f").getControls(),n=t?t.events.mouse:{};Object.keys(n).forEach((function(t){qi(e,Ai,"f")&&qi(e,Ai,"f").removeEventListener(t,n[t])})),qi(this,_i,"f")&&(qi(this,_i,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),qi(this,_i,"f").removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded));var i=!Array.isArray(qi(this,Ei,"f"))||qi(this,Pi,"f")>qi(this,Ei,"f").length;qi(this,mi,"f")&&i&&qi(this,mi,"f").destroy(),qi(this,Si,"f").customClick.enabled&&x(qi(this,Li,"f")),(m||y)&&qi(this,bi,"f").removeEventListener("loadedmetadata",this._contentLoadedAction),qi(this,bi,"f").removeEventListener("loadedmetadata",this._handleResizeAds),qi(this,bi,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),qi(this,bi,"f").removeEventListener("ended",this._contentEndedListener),"undefined"!=typeof window&&window.removeEventListener("resize",this._handleResizeAds),qi(this,Ai,"f")&&qi(this,Ai,"f").removeEventListener("click",this._handleClickInContainer),x(qi(this,Ai,"f")),this.loadPromise=null,this.loadedAd=!1,Bi(this,fi,!1,"f"),Bi(this,Oi,!1,"f"),Bi(this,pi,0,"f"),Bi(this,vi,0,"f")}},{key:"resizeAds",value:function(e,t){var n=this;if(qi(this,mi,"f")){var i=qi(this,bi,"f"),r="true"===i.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,s=e,a=e?e.toString():"";e&&a.indexOf("%")>-1&&qi(this,bi,"f").parentElement&&(s=qi(this,bi,"f").parentElement.offsetWidth*(parseInt(a,10)/100));var o,f=t,c=t?t.toString():"";t&&c.indexOf("%")>-1&&qi(this,bi,"f").parentElement&&(f=qi(this,bi,"f").parentElement.offsetHeight*(parseInt(c,10)/100)),o&&"undefined"!=typeof window&&window.cancelAnimationFrame(o),"undefined"!=typeof window&&(o=window.requestAnimationFrame((function(){qi(n,mi,"f").resize(s||i.offsetWidth,f||i.offsetHeight,r)})))}}},{key:"getAdsManager",value:function(){return qi(this,mi,"f")}},{key:"started",value:function(){return qi(this,ui,"f")}},{key:"src",set:function(e){Bi(this,Ei,e,"f")}},{key:"isDone",set:function(e){Bi(this,fi,e,"f")}},{key:"playRequested",set:function(e){Bi(this,Oi,e,"f")}},{key:"volume",get:function(){return qi(this,mi,"f")?qi(this,mi,"f").getVolume():qi(this,ji,"f")},set:function(e){qi(this,mi,"f")&&(Bi(this,di,e,"f"),qi(this,mi,"f").setVolume(e),this._setMediaVolume(e),Bi(this,hi,0===e,"f"))}},{key:"muted",get:function(){return qi(this,hi,"f")},set:function(e){qi(this,mi,"f")&&(e?(qi(this,mi,"f").setVolume(0),Bi(this,hi,!0,"f"),this._setMediaVolume(0)):(qi(this,mi,"f").setVolume(qi(this,di,"f")),Bi(this,hi,!1,"f"),this._setMediaVolume(qi(this,di,"f"))))}},{key:"currentTime",get:function(){return qi(this,vi,"f")},set:function(e){Bi(this,vi,e,"f")}},{key:"duration",get:function(){return qi(this,pi,"f")}},{key:"paused",get:function(){return!qi(this,ci,"f")}},{key:"ended",get:function(){return qi(this,oi,"f")}},{key:"_assign",value:function(e){var t=this,n=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:if(n.isLinear()){if(v&&A(qi(this,bi,"f"))&&(qi(this,bi,"f").controls=!1),Bi(this,pi,n.getDuration(),"f"),Bi(this,vi,n.getDuration(),"f"),!qi(this,Ni,"f")&&!m&&!y){var i=_("waiting");qi(this,bi,"f").dispatchEvent(i);var r=_("loadedmetadata");qi(this,bi,"f").dispatchEvent(r),this.resizeAds()}}else this._onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:if(n.isLinear()){qi(this,bi,"f").parentElement&&!qi(this,bi,"f").parentElement.classList.contains("op-ads--active")&&qi(this,bi,"f").parentElement.classList.add("op-ads--active"),qi(this,gi,"f").paused||qi(this,gi,"f").pause(),Bi(this,ci,!0,"f");var s,a=_("play");if(qi(this,bi,"f").dispatchEvent(a),s||(this.resizeAds(),s=!0),qi(this,gi,"f").ended){Bi(this,oi,!1,"f");var o=_("adsmediaended");qi(this,bi,"f").dispatchEvent(o)}"undefined"!=typeof window&&Bi(this,li,window.setInterval((function(){if(!0===qi(t,ci,"f")){Bi(t,vi,Math.round(qi(t,mi,"f").getRemainingTime()),"f");var e=_("timeupdate");qi(t,bi,"f").dispatchEvent(e)}}),350),"f")}break;case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.SKIPPED:if(n.isLinear()){if(e.type===google.ima.AdEvent.Type.SKIPPED){var f=_("adsskipped");qi(this,bi,"f").dispatchEvent(f)}qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.classList.remove("op-ads--active"),Bi(this,ci,!1,"f"),clearInterval(qi(this,li,"f"))}break;case google.ima.AdEvent.Type.VOLUME_CHANGED:this._setMediaVolume(this.volume);break;case google.ima.AdEvent.Type.VOLUME_MUTED:if(n.isLinear()){var c=_("volumechange");qi(this,bi,"f").dispatchEvent(c)}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(n.isLinear()&&(Bi(this,ci,!1,"f"),Bi(this,oi,!0,"f"),Bi(this,li,0,"f"),Bi(this,hi,!1,"f"),Bi(this,ui,!1,"f"),qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.classList.remove("op-ads--active"),this.destroy(),qi(this,bi,"f").currentTime>=qi(this,bi,"f").duration)){var u=_("ended");qi(this,bi,"f").dispatchEvent(u)}break;case google.ima.AdEvent.Type.CLICK:var l=_("pause");qi(this,bi,"f").dispatchEvent(l);break;case google.ima.AdEvent.Type.AD_BREAK_READY:qi(this,Si,"f").autoPlayAdBreaks||this.play()}if(e.type===google.ima.AdEvent.Type.LOG){var d=e.getAdData();if(d.adError){var h=d.adError.getMessage();console.warn("Ad warning: Non-fatal error occurred: ".concat(h));var p=_("playererror",{detail:{data:d.adError,message:h,type:"Ads"}});qi(this,bi,"f").dispatchEvent(p)}}else{var g=_("ads".concat(e.type));qi(this,bi,"f").dispatchEvent(g)}}},{key:"_error",value:function(e){var t,n=e.getError(),i=_("playererror",{detail:{data:n,message:n.toString(),type:"Ads"}});qi(this,bi,"f").dispatchEvent(i);Array.isArray(qi(this,Ei,"f"))&&qi(this,Ei,"f").length>1&&qi(this,Pi,"f")<qi(this,Ei,"f").length-1?(Bi(this,Pi,(t=qi(this,Pi,"f"),++t),"f"),this.destroy(),Bi(this,ui,!0,"f"),Bi(this,Oi,!0,"f"),this.load(!0),console.warn("Ad warning: ".concat(n.toString()))):([100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005].indexOf(n.getErrorCode())>-1?(qi(this,mi,"f")&&qi(this,mi,"f").destroy(),console.error("Ad error: ".concat(n.toString()))):console.warn("Ad warning: ".concat(n.toString())),!0!==qi(this,Ti,"f")&&!0!==qi(this,Ci,"f")&&!0!==qi(this,ui,"f")||(Bi(this,ci,!1,"f"),this._resumeMedia()))}},{key:"_loaded",value:function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=qi(this,Si,"f").enablePreloading,Bi(this,mi,e.getAdsManager(qi(this,bi,"f"),t),"f"),this._start(qi(this,mi,"f")),this.loadPromise=new Promise((function(e){return e}))}},{key:"_start",value:function(e){var t=this;qi(this,Li,"f")&&e.isCustomClickTrackingUsed()&&qi(this,Li,"f").classList.add("op-ads__click-container--visible"),e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,k),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,k),Bi(this,wi,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.VIDEO_CLICKED,google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.LOG],"f"),qi(this,Si,"f").autoPlayAdBreaks||qi(this,wi,"f").push(google.ima.AdEvent.Type.AD_BREAK_READY);var n=qi(this,yi,"f").getControls(),i=n?n.events.mouse:{};if(Object.keys(i).forEach((function(e){qi(t,Ai,"f")&&qi(t,Ai,"f").addEventListener(e,i[e],k)})),qi(this,wi,"f").forEach((function(n){e.addEventListener(n,t._assign,k)})),!0===qi(this,Ti,"f")||!0===qi(this,Ci,"f")||!0===qi(this,Oi,"f")){if(Bi(this,Oi,!1,"f"),!qi(this,fi,"f"))return void this._initNotDoneAds();e.init(qi(this,bi,"f").offsetWidth,qi(this,bi,"f").offsetHeight,qi(this,bi,"f").parentElement&&"true"===qi(this,bi,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.start();var r=_("play");qi(this,bi,"f").dispatchEvent(r)}else!0===qi(this,Si,"f").enablePreloading&&e.init(qi(this,bi,"f").offsetWidth,qi(this,bi,"f").offsetHeight,qi(this,bi,"f").parentElement&&"true"===qi(this,bi,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}},{key:"_initNotDoneAds",value:function(){qi(this,xi,"f")?(Bi(this,fi,!0,"f"),qi(this,xi,"f").initialize(),m||y?(Bi(this,Ri,this._contentLoadedAction,"f"),qi(this,bi,"f").addEventListener("loadedmetadata",this._contentLoadedAction,k),qi(this,bi,"f").load()):this._contentLoadedAction()):(this.load(),this.loadedAd=!1)}},{key:"_contentEndedListener",value:function(){Bi(this,oi,!0,"f"),Bi(this,ci,!1,"f"),Bi(this,ui,!1,"f"),qi(this,_i,"f").contentComplete()}},{key:"_onContentPauseRequested",value:function(){qi(this,bi,"f").removeEventListener("ended",this._contentEndedListener),Bi(this,Wi,qi(this,gi,"f").currentTime,"f"),qi(this,ui,"f")?qi(this,gi,"f").pause():Bi(this,ui,!0,"f");var e=_("play");qi(this,bi,"f").dispatchEvent(e)}},{key:"_onContentResumeRequested",value:function(){var e;if(qi(this,Si,"f").loop)Array.isArray(qi(this,Ei,"f"))&&(qi(this,Pi,"f")===qi(this,Ei,"f").length-1?Bi(this,Pi,0,"f"):Bi(this,Pi,(e=qi(this,Pi,"f"),++e),"f")),this.destroy(),qi(this,_i,"f").contentComplete(),Bi(this,Oi,!0,"f"),Bi(this,ui,!0,"f"),this.load(!0);else if(qi(this,bi,"f").addEventListener("ended",this._contentEndedListener,k),qi(this,bi,"f").addEventListener("loadedmetadata",this._loadedMetadataHandler,k),m||y)qi(this,gi,"f").src=qi(this,Ii,"f"),qi(this,gi,"f").load(),this._prepareMedia(),qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.classList.add("op-ads--active");else{var t=_("loadedmetadata");qi(this,bi,"f").dispatchEvent(t)}}},{key:"_loadedMetadataHandler",value:function(){var e;Array.isArray(qi(this,Ei,"f"))?(Bi(this,Pi,(e=qi(this,Pi,"f"),++e),"f"),qi(this,Pi,"f")<=qi(this,Ei,"f").length-1?(qi(this,mi,"f")&&qi(this,mi,"f").destroy(),qi(this,_i,"f").contentComplete(),Bi(this,Oi,!0,"f"),Bi(this,ui,!0,"f"),Bi(this,fi,!1,"f"),this._requestAds()):(qi(this,Si,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia())):qi(this,bi,"f").seekable.length?qi(this,bi,"f").seekable.end(0)>qi(this,Wi,"f")&&(qi(this,Si,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia()):setTimeout(this._loadedMetadataHandler,100)}},{key:"_resumeMedia",value:function(){var e=this;if(Bi(this,li,0,"f"),Bi(this,hi,!1,"f"),Bi(this,ui,!1,"f"),Bi(this,pi,0,"f"),Bi(this,vi,0,"f"),qi(this,bi,"f").parentElement&&qi(this,bi,"f").parentElement.classList.remove("op-ads--active"),qi(this,gi,"f").ended){var t=_("ended");qi(this,bi,"f").dispatchEvent(t)}else try{qi(this,gi,"f").play(),setTimeout((function(){var t=_("play");qi(e,bi,"f").dispatchEvent(t)}),50)}catch(e){}}},{key:"_requestAds",value:function(){Bi(this,Mi,new google.ima.AdsRequest,"f");var e=Array.isArray(qi(this,Ei,"f"))?qi(this,Ei,"f")[qi(this,Pi,"f")]:qi(this,Ei,"f");!function(e){var t;if(void 0!==window.DOMParser)t=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))return!1;t=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(e),t}}try{var n=t(e);if(n.getElementsByTagName("parsererror").length>0)return!1;if(n.parseError&&0!==n.parseError.errorCode)return!1}catch(e){return!1}return!0}(e)?qi(this,Mi,"f").adTagUrl=e:qi(this,Mi,"f").adsResponse=e;var t=qi(this,bi,"f").parentElement?qi(this,bi,"f").parentElement.offsetWidth:0,n=qi(this,bi,"f").parentElement?qi(this,bi,"f").parentElement.offsetHeight:0;qi(this,Mi,"f").linearAdSlotWidth=t,qi(this,Mi,"f").linearAdSlotHeight=n,qi(this,Mi,"f").nonLinearAdSlotWidth=t,qi(this,Mi,"f").nonLinearAdSlotHeight=n/3,qi(this,Mi,"f").setAdWillAutoPlay(qi(this,Ti,"f")),qi(this,Mi,"f").setAdWillPlayMuted(qi(this,Ci,"f")),qi(this,_i,"f").requestAds(qi(this,Mi,"f"))}},{key:"_contentLoadedAction",value:function(){qi(this,Ri,"f")&&(qi(this,bi,"f").removeEventListener("loadedmetadata",qi(this,Ri,"f")),Bi(this,Ri,null,"f")),this._requestAds()}},{key:"_resetAdsAfterManualBreak",value:function(){qi(this,mi,"f")&&qi(this,mi,"f").destroy(),qi(this,_i,"f").contentComplete(),Bi(this,fi,!1,"f"),Bi(this,Oi,!0,"f")}},{key:"_prepareMedia",value:function(){qi(this,gi,"f").currentTime=qi(this,Wi,"f"),qi(this,bi,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),this._resumeMedia()}},{key:"_setMediaVolume",value:function(e){qi(this,gi,"f").volume=e,qi(this,gi,"f").muted=0===e}},{key:"_handleClickInContainer",value:function(){if(qi(this,gi,"f").paused){var e=_("paused");qi(this,bi,"f").dispatchEvent(e),this.pause()}}},{key:"_handleResizeAds",value:function(){this.resizeAds()}}]),e}();oi=new WeakMap,fi=new WeakMap,ci=new WeakMap,ui=new WeakMap,li=new WeakMap,di=new WeakMap,hi=new WeakMap,pi=new WeakMap,vi=new WeakMap,mi=new WeakMap,yi=new WeakMap,gi=new WeakMap,bi=new WeakMap,wi=new WeakMap,Ei=new WeakMap,ki=new WeakMap,_i=new WeakMap,Ai=new WeakMap,Li=new WeakMap,xi=new WeakMap,Mi=new WeakMap,Ti=new WeakMap,Ci=new WeakMap,Oi=new WeakMap,Si=new WeakMap,Pi=new WeakMap,ji=new WeakMap,Ri=new WeakMap,Wi=new WeakMap,Ii=new WeakMap,Ni=new WeakMap;var zi=Hi;"undefined"!=typeof window&&function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window);var Vi,Ui,Gi,Ki,Xi,$i,Qi,Yi,Ji,Zi,er,tr,nr,ir,rr,sr,ar=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{f(i.next(e))}catch(e){s(e)}}function o(e){try{f(i.throw(e))}catch(e){s(e)}}function f(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}f((i=i.apply(e,t||[])).next())}))},or=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},fr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},cr=function(){function e(t,n){return a()(this,e),Vi.set(this,void 0),Ui.set(this,void 0),this.proxy=null,Gi.set(this,""),Ki.set(this,void 0),Xi.set(this,void 0),$i.set(this,void 0),Qi.set(this,{}),Yi.set(this,!1),Ji.set(this,void 0),Zi.set(this,!1),er.set(this,!1),tr.set(this,!1),nr.set(this,{}),ir.set(this,[]),rr.set(this,void 0),sr.set(this,{controls:{alwaysVisible:!1,layers:{left:["play","time","volume"],middle:["progress"],right:["captions","settings","fullscreen"]}},defaultLevel:null,detachMenus:!1,forceNative:!0,height:0,hidePlayBtnTimer:350,labels:{auto:"Auto",captions:"CC/Subtitles",click:"Click to unmute",fullscreen:"Fullscreen",lang:{en:"English"},levels:"Quality Levels",live:"Live Broadcast",mediaLevels:"Change Quality",mute:"Mute",off:"Off",pause:"Pause",play:"Play",progressRail:"Time Rail",progressSlider:"Time Slider",settings:"Player Settings",speed:"Speed",speedNormal:"Normal",tap:"Tap to unmute",toggleCaptions:"Toggle Captions",unmute:"Unmute",volume:"Volume",volumeControl:"Volume Control",volumeSlider:"Volume Slider"},live:{showLabel:!0,showProgress:!1},mode:"responsive",onError:function(e){return console.error(e)},pauseOthers:!0,progress:{duration:0,showCurrentTimeOnly:!1},showLoaderOnInit:!1,startTime:0,startVolume:1,step:0,width:0}),or(this,Ki,t instanceof HTMLMediaElement?t:document.getElementById(t),"f"),fr(this,Ki,"f")&&(or(this,Yi,fr(this,Ki,"f").autoplay||!1,"f"),"string"==typeof n||Array.isArray(n)||this._mergeOptions(n),fr(this,Ki,"f").volume=fr(this,nr,"f").startVolume||1,fr(this,nr,"f").ads&&fr(this,nr,"f").ads.src&&or(this,Xi,fr(this,nr,"f").ads.src,"f"),fr(this,nr,"f").startTime>0&&(fr(this,Ki,"f").currentTime=fr(this,nr,"f").startTime),or(this,Ji,fr(this,Ki,"f").volume,"f")),this._autoplay=this._autoplay.bind(this),this._enableKeyBindings=this._enableKeyBindings.bind(this),this}return f()(e,[{key:"init",value:function(){return ar(this,void 0,void 0,u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isValid()){t.next=9;break}return this._wrapInstance(),t.next=4,this._prepareMedia();case 4:this._createPlayButton(),this._createUID(),this._createControls(),this._setEvents(),e.instances[this.id]=this;case 9:case"end":return t.stop()}}),t,this)})))}},{key:"load",value:function(){return fr(this,$i,"f").loaded=!1,this.isMedia()?fr(this,$i,"f").load():void 0}},{key:"play",value:function(){return ar(this,void 0,void 0,u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fr(this,$i,"f")||fr(this,$i,"f").loaded){e.next=4;break}return e.next=3,fr(this,$i,"f").load();case 3:fr(this,$i,"f").loaded=!0;case 4:if(!fr(this,Ui,"f")){e.next=9;break}return fr(this,Ui,"f").playRequested=!0,e.next=8,fr(this,Ui,"f").loadPromise;case 8:return e.abrupt("return",fr(this,Ui,"f").play());case 9:return e.abrupt("return",fr(this,$i,"f").play());case 10:case"end":return e.stop()}}),e,this)})))}},{key:"pause",value:function(){fr(this,Ui,"f")?fr(this,Ui,"f").pause():fr(this,$i,"f").pause()}},{key:"destroy",value:function(){var t=this;fr(this,Ui,"f")&&(fr(this,Ui,"f").pause(),fr(this,Ui,"f").destroy()),fr(this,rr,"f")&&fr(this,rr,"f").destroy();var n=fr(this,Ki,"f");fr(this,$i,"f")&&fr(this,$i,"f").destroy(),Object.keys(fr(this,Qi,"f")).forEach((function(e){n.removeEventListener(e,fr(t,Qi,"f")[e])})),this.getContainer().removeEventListener("keydown",this._enableKeyBindings),fr(this,Yi,"f")&&!fr(this,tr,"f")&&A(fr(this,Ki,"f"))&&n.removeEventListener("canplay",this._autoplay),fr(this,Vi,"f")&&fr(this,Vi,"f").destroy(),A(fr(this,Ki,"f"))&&(x(this.playBtn),x(this.loader)),fr(this,Ki,"f").removeEventListener("playererror",fr(this,nr,"f").onError),n.controls=!0,n.setAttribute("id",fr(this,Gi,"f")),n.removeAttribute("op-live__enabled"),n.removeAttribute("op-dvr__enabled");var i="fit"!==fr(this,nr,"f").mode||L(n)?n.parentElement:n.closest(".op-player__fit--wrapper");i&&i.parentNode&&i.parentNode.replaceChild(n,i),delete e.instances[fr(this,Gi,"f")];var r=_("playerdestroyed");n.dispatchEvent(r)}},{key:"getContainer",value:function(){return fr(this,Ki,"f").parentElement||fr(this,Ki,"f")}},{key:"getControls",value:function(){return fr(this,Vi,"f")}},{key:"getCustomControls",value:function(){return fr(this,ir,"f")}},{key:"getElement",value:function(){return fr(this,Ki,"f")}},{key:"getEvents",value:function(){return fr(this,Qi,"f")}},{key:"getOptions",value:function(){return fr(this,nr,"f")}},{key:"activeElement",value:function(){return fr(this,Ui,"f")&&fr(this,Ui,"f").started()?fr(this,Ui,"f"):fr(this,$i,"f")}},{key:"isMedia",value:function(){return this.activeElement()instanceof Di}},{key:"isAd",value:function(){return this.activeElement()instanceof zi}},{key:"getMedia",value:function(){return fr(this,$i,"f")}},{key:"getAd",value:function(){return fr(this,Ui,"f")}},{key:"addCaptions",value:function(e){if(e.default)for(var t=fr(this,Ki,"f").querySelectorAll("track"),n=0,i=t.length;n<i;n++)t[n].default=!1;var r=fr(this,Ki,"f"),s=r.querySelector('track[srclang="'.concat(e.srclang,'"][kind="').concat(e.kind,'"]'));s?(s.src=e.src,s.label=e.label,s.default=e.default||!1):((s=document.createElement("track")).srclang=e.srclang,s.src=e.src,s.kind=e.kind,s.label=e.label,s.default=e.default||!1,r.appendChild(s));var a=_("controlschanged");r.dispatchEvent(a)}},{key:"addControl",value:function(e){e.custom=!0,fr(this,ir,"f").push(e);var t=_("controlschanged");fr(this,Ki,"f").dispatchEvent(t)}},{key:"removeControl",value:function(e){var t=this,n=this.getOptions().controls.layers;Object.keys(n).forEach((function(t){n[t].forEach((function(i,r){i===e&&n[t].splice(r,1)}))})),fr(this,ir,"f").forEach((function(n,i){n.id===e&&fr(t,ir,"f").splice(i,1)}));var i=_("controlschanged");fr(this,Ki,"f").dispatchEvent(i)}},{key:"_prepareMedia",value:function(){return ar(this,void 0,void 0,u.a.mark((function t(){var n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,fr(this,Ki,"f").addEventListener("playererror",fr(this,nr,"f").onError,k),fr(this,Yi,"f")&&A(fr(this,Ki,"f"))&&fr(this,Ki,"f").addEventListener("canplay",this._autoplay,k),or(this,$i,new Di(fr(this,Ki,"f"),fr(this,nr,"f"),fr(this,Yi,"f"),e.customMedia),"f"),n=fr(this,Ki,"f").getAttribute("preload"),!fr(this,Xi,"f")&&n&&"none"===n){t.next=9;break}return t.next=8,fr(this,$i,"f").load();case 8:fr(this,$i,"f").loaded=!0;case 9:!fr(this,Yi,"f")&&fr(this,Xi,"f")&&(i=fr(this,nr,"f")&&fr(this,nr,"f").ads?fr(this,nr,"f").ads:void 0,or(this,Ui,new zi(this,fr(this,Xi,"f"),!1,!1,i),"f")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"enableDefaultPlayer",value:function(){var e=this,t=!0,n=0;this.proxy&&!this.proxy.paused&&(t=!1,n=this.proxy.currentTime,this.proxy.pause()),this.proxy=this,this.getElement().addEventListener("loadedmetadata",(function(){e.getMedia().currentTime=n,t||e.play()}))}},{key:"loadAd",value:function(e){return ar(this,void 0,void 0,u.a.mark((function t(){var n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.isAd()?(this.getAd().destroy(),this.getAd().src=e,this.getAd().loadedAd=!1,this.getAd().load()):(n=fr(this,nr,"f")&&fr(this,nr,"f").ads?fr(this,nr,"f").ads:void 0,i=!this.activeElement().paused||fr(this,Zi,"f"),or(this,Ui,new zi(this,e,i,fr(this,er,"f"),n),"f"))}catch(e){console.error(e)}case 1:case"end":return t.stop()}}),t,this)})))}},{key:"src",get:function(){return fr(this,$i,"f").src},set:function(e){var t=this;fr(this,$i,"f")instanceof Di?(fr(this,$i,"f").mediaFiles=[],fr(this,$i,"f").src=e):"string"==typeof e?fr(this,Ki,"f").src=e:Array.isArray(e)?e.forEach((function(e){var n=document.createElement("source");n.src=e.src,n.type=e.type||pe(e.src,fr(t,Ki,"f")),fr(t,Ki,"f").appendChild(n)})):"object"===r()(e)&&(fr(this,Ki,"f").src=e.src)}},{key:"id",get:function(){return fr(this,Gi,"f")}},{key:"_isValid",value:function(){var e=fr(this,Ki,"f");return e instanceof HTMLElement!=!1&&(!(!L(e)&&!A(e))&&!!e.classList.contains("op-player__media"))}},{key:"_wrapInstance",value:function(){var e=document.createElement("div");e.className="op-player op-player__keyboard--inactive",e.className+=L(fr(this,Ki,"f"))?" op-player__audio":" op-player__video",e.tabIndex=0,fr(this,Ki,"f").classList.remove("op-player"),fr(this,Ki,"f").parentElement&&fr(this,Ki,"f").parentElement.insertBefore(e,fr(this,Ki,"f")),e.appendChild(fr(this,Ki,"f"));var t=document.createElement("div");if(t.className="op-status",t.innerHTML="<span></span>",t.tabIndex=-1,t.setAttribute("aria-hidden","true"),A(fr(this,Ki,"f"))&&fr(this,Ki,"f").parentElement&&fr(this,Ki,"f").parentElement.insertBefore(t,fr(this,Ki,"f")),e.addEventListener("keydown",(function(){e.classList.contains("op-player__keyboard--inactive")&&e.classList.remove("op-player__keyboard--inactive")}),k),e.addEventListener("click",(function(){e.classList.contains("op-player__keyboard--inactive")||e.classList.add("op-player__keyboard--inactive")}),k),"fill"!==fr(this,nr,"f").mode||L(fr(this,Ki,"f"))||v)if("fit"!==fr(this,nr,"f").mode||L(fr(this,Ki,"f"))){var n="";if(fr(this,nr,"f").width){var i="number"==typeof fr(this,nr,"f").width?"".concat(fr(this,nr,"f").width,"px"):fr(this,nr,"f").width;n+="width: ".concat(i," !important;")}if(fr(this,nr,"f").height){var r="number"==typeof fr(this,nr,"f").height?"".concat(fr(this,nr,"f").height,"px"):fr(this,nr,"f").height;n+="height: ".concat(r," !important;")}n&&e.setAttribute("style",n)}else{var s=this.getContainer();if(s.parentElement){var a=document.createElement("div");a.className="op-player__fit--wrapper",a.tabIndex=0,s.parentElement.insertBefore(a,s),a.appendChild(s),s.classList.add("op-player__fit")}}else this.getContainer().classList.add("op-player__full")}},{key:"_createControls",value:function(){v&&A(fr(this,Ki,"f"))&&this.getContainer().classList.add("op-player__ios--iphone"),or(this,Vi,new Qt(this),"f"),fr(this,Vi,"f").create()}},{key:"_createUID",value:function(){if(fr(this,Ki,"f").id)or(this,Gi,fr(this,Ki,"f").id,"f"),fr(this,Ki,"f").removeAttribute("id");else{var t;do{t="op_".concat(Math.random().toString(36).substr(2,9))}while(void 0!==e.instances[t]);or(this,Gi,t,"f")}fr(this,Ki,"f").parentElement&&(fr(this,Ki,"f").parentElement.id=fr(this,Gi,"f"))}},{key:"_createPlayButton",value:function(){var e=this;L(fr(this,Ki,"f"))||(this.playBtn=document.createElement("button"),this.playBtn.className="op-player__play",this.playBtn.tabIndex=0,this.playBtn.title=fr(this,nr,"f").labels.play,this.playBtn.innerHTML="<span>".concat(fr(this,nr,"f").labels.play,"</span>"),this.playBtn.setAttribute("aria-pressed","false"),this.playBtn.setAttribute("aria-hidden","false"),this.loader=document.createElement("span"),this.loader.className="op-player__loader",this.loader.tabIndex=-1,this.loader.setAttribute("aria-hidden","true"),fr(this,Ki,"f").parentElement&&(fr(this,Ki,"f").parentElement.insertBefore(this.loader,fr(this,Ki,"f")),fr(this,Ki,"f").parentElement.insertBefore(this.playBtn,fr(this,Ki,"f"))),this.playBtn.addEventListener("click",(function(){fr(e,Ui,"f")&&(fr(e,Ui,"f").playRequested=e.activeElement().paused),e.activeElement().paused?e.activeElement().play():e.activeElement().pause()}),k))}},{key:"_setEvents",value:function(){var e=this;A(fr(this,Ki,"f"))&&(fr(this,Qi,"f").loadedmetadata=function(){var t=e.activeElement();!fr(e,nr,"f").showLoaderOnInit||m||y?(e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","false")):(e.loader.setAttribute("aria-hidden","false"),e.playBtn.setAttribute("aria-hidden","true")),t.paused&&(e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.setAttribute("aria-pressed","false"))},fr(this,Qi,"f").waiting=function(){e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")},fr(this,Qi,"f").seeking=function(){var t=e.activeElement();e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden",t instanceof Di?"false":"true")},fr(this,Qi,"f").seeked=function(){var t=e.activeElement();0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden",t instanceof Di?"false":"true"),e.loader.setAttribute("aria-hidden","true"))},fr(this,Qi,"f").play=function(){e.playBtn.classList.add("op-player__play--paused"),e.playBtn.title=fr(e,nr,"f").labels.pause,e.loader.setAttribute("aria-hidden","true"),fr(e,nr,"f").showLoaderOnInit?e.playBtn.setAttribute("aria-hidden","true"):setTimeout((function(){e.playBtn.setAttribute("aria-hidden","true")}),fr(e,nr,"f").hidePlayBtnTimer)},fr(this,Qi,"f").playing=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")},fr(this,Qi,"f").pause=function(){var t=e.activeElement();e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.title=fr(e,nr,"f").labels.play,fr(e,nr,"f").showLoaderOnInit&&0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden","false"),e.loader.setAttribute("aria-hidden","true"))},fr(this,Qi,"f").ended=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")}),Object.keys(fr(this,Qi,"f")).forEach((function(t){fr(e,Ki,"f").addEventListener(t,fr(e,Qi,"f")[t],k)})),this.getContainer().addEventListener("keydown",this._enableKeyBindings,k)}},{key:"_autoplay",value:function(){var e=this;fr(this,tr,"f")||(or(this,tr,!0,"f"),fr(this,Ki,"f").removeEventListener("canplay",this._autoplay),function(e,t,n,i,r){var s=e.play();void 0!==s?s.then((function(){return e.pause(),n(!0),i(!1),r()})).catch((function(){e.volume=0,e.muted=!0,e.play().then((function(){return e.pause(),n(!0),i(!0),r()})).catch((function(){e.volume=t,e.muted=!1,n(!1),i(!1),r()}))})):(n(!e.paused||"Promise"in window&&s instanceof Promise),e.pause(),i(!1),r())}(fr(this,Ki,"f"),fr(this,Ji,"f"),(function(t){or(e,Zi,t,"f")}),(function(t){or(e,er,t,"f")}),(function(){if(fr(e,er,"f")){e.activeElement().muted=!0,e.activeElement().volume=0;var t=_("volumechange");fr(e,Ki,"f").dispatchEvent(t);var n=document.createElement("div"),i=m||y?fr(e,nr,"f").labels.tap:fr(e,nr,"f").labels.click;n.className="op-player__unmute",n.innerHTML="<span>".concat(i,"</span>"),n.tabIndex=0,n.addEventListener("click",(function(){e.activeElement().muted=!1,e.activeElement().volume=fr(e,Ji,"f");var t=_("volumechange");fr(e,Ki,"f").dispatchEvent(t),x(n)}),k);var r=e.getContainer();r.insertBefore(n,r.firstChild)}else e.activeElement().muted=fr(e,Ki,"f").muted,e.activeElement().volume=fr(e,Ji,"f");if(fr(e,Xi,"f")){var s=fr(e,nr,"f")&&fr(e,nr,"f").ads?fr(e,nr,"f").ads:void 0;or(e,Ui,new zi(e,fr(e,Xi,"f"),fr(e,Zi,"f"),fr(e,er,"f"),s),"f")}else(fr(e,Zi,"f")||fr(e,er,"f"))&&e.play()})))}},{key:"_mergeOptions",value:function(e){var t=this;if(or(this,nr,Object.assign(Object.assign({},fr(this,sr,"f")),e),"f"),e){["labels","controls"].forEach((function(n){fr(t,nr,"f")[n]=e[n]&&Object.keys(e[n]).length?Object.assign(Object.assign({},fr(t,sr,"f")[n]),e[n]):fr(t,sr,"f")[n]}))}}},{key:"_enableKeyBindings",value:function(e){var t,n=e.which||e.keyCode||0,i=this.activeElement(),r=this.isAd(),s=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-player");switch(n){case 13:case 32:case 75:!s||13!==n&&32!==n?75===n&&(i.paused?i.play():i.pause()):i.paused?i.play():i.pause(),e.preventDefault(),e.stopPropagation();break;case 35:r||i.duration===1/0||(i.currentTime=i.duration,e.preventDefault(),e.stopPropagation());break;case 36:r||(i.currentTime=0,e.preventDefault(),e.stopPropagation());break;case 37:case 39:case 74:case 76:if(!r&&i.duration!==1/0){var a=5,o=this.getOptions().step;o?a=74===n||76===n?2*o:o:74!==n&&76!==n||(a=10);var f=i.duration!==1/0?a:this.getOptions().progress.duration;i.currentTime+=37===n||74===n?-1*f:f,i.currentTime<0?i.currentTime=0:i.currentTime>=i.duration&&(i.currentTime=i.duration),e.preventDefault(),e.stopPropagation()}break;case 38:case 40:var c=38===n?Math.min(i.volume+.1,1):Math.max(i.volume-.1,0);i.volume=c,i.muted=!(c>0),e.preventDefault(),e.stopPropagation();break;case 70:A(fr(this,Ki,"f"))&&!e.ctrlKey&&(or(this,rr,new ue(this,"",""),"f"),void 0!==fr(this,rr,"f").fullScreenEnabled&&(fr(this,rr,"f").toggleFullscreen(),e.preventDefault(),e.stopPropagation()));break;case 77:i.muted=!i.muted,i.muted?i.volume=0:i.volume=fr(this,Ji,"f"),e.preventDefault(),e.stopPropagation();break;case 188:case 190:if(!r&&e.shiftKey){var u=i;u.playbackRate=188===n?Math.max(u.playbackRate-.25,.25):Math.min(u.playbackRate+.25,2);var l=this.getContainer().querySelector(".op-status>span");l&&(l.textContent="".concat(u.playbackRate,"x"),l.parentElement&&l.parentElement.setAttribute("aria-hidden","false"),setTimeout((function(){l.parentElement&&l.parentElement.setAttribute("aria-hidden","true")}),500));var d=_("controlschanged");dispatchEvent(d),e.preventDefault(),e.stopPropagation()}else!r&&i.paused&&(i.currentTime+=.04*(188===n?-1:1),e.preventDefault(),e.stopPropagation())}}}],[{key:"init",value:function(){e.instances={};for(var t=document.querySelectorAll("video.op-player, audio.op-player"),n=0,i=t.length;n<i;n++){var r=t[n],s=r.getAttribute("data-op-settings");new e(r,s?JSON.parse(s):{}).init()}}},{key:"addMedia",value:function(t,n,i,r){e.customMedia.media[n]=r,e.customMedia.optionsKey[n]=t,e.customMedia.rules.push(i)}}]),e}();Vi=new WeakMap,Ui=new WeakMap,Gi=new WeakMap,Ki=new WeakMap,Xi=new WeakMap,$i=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap,ir=new WeakMap,rr=new WeakMap,sr=new WeakMap,cr.instances={},cr.customMedia={media:{},optionsKey:{},rules:[]};var ur=t.default=cr;"undefined"!=typeof window&&(window.OpenPlayer=cr,window.OpenPlayerJS=cr,cr.init())}]).default}));